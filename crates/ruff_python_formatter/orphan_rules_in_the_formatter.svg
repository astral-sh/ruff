<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 904.4493713378906 1205.5499755859375" width="904.4493713378906" height="1205.5499755859375">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <rect x="0" y="0" width="904.4493713378906" height="1205.5499755859375" fill="#ffffff"></rect><g transform="translate(75.99053955078125 415.4000122070313) rotate(0 52.734375 12)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">JsonArray</text></g><g transform="translate(52.790618896484375 761.9999877929688) rotate(0 82.03125 12)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">FormatNodeRule</text></g><g transform="translate(544.5905456542969 459.9999877929688) rotate(0 111.328125 12)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">FormatOwnedWithRule</text></g><g transform="translate(54.690582275390625 651.4999267578125) rotate(0 88.8519287109375 12.136557610241823)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20.227596017069697px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">FormatJsonArray</text></g><g transform="translate(600.4999694824219 240.7000610351563) rotate(0 34.22996520996094 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Format</text></g><g stroke-linecap="round"><g transform="translate(637.8446647951721 397.70000000000005) rotate(0 -1.834013788772154 -58.84758057445288)"><path d="M-0.33 -1.09 C-0.75 -20.52, -2.56 -97.43, -3.34 -116.61" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g><g transform="translate(637.8446647951721 397.70000000000005) rotate(0 -1.834013788772154 -58.84758057445288)"><path d="M5.97 -87.4 C4.52 -96.74, 2.68 -102.63, -4.49 -116.68" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g><g transform="translate(637.8446647951721 397.70000000000005) rotate(0 -1.834013788772154 -58.84758057445288)"><path d="M-14.54 -86.77 C-11.21 -96.2, -8.27 -102.24, -4.49 -116.68" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(133.78520379737517 688.3253637475933) rotate(0 -0.08251605632852943 31.547004500122625)"><path d="M0.12 -1.09 C0.06 9.8, -0.3 53.2, -0.28 64.18" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g><g transform="translate(133.78520379737517 688.3253637475933) rotate(0 -0.08251605632852943 31.547004500122625)"><path d="M-12.25 35.07 C-6.99 44.58, -2.79 53.51, 1.44 65.21" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g><g transform="translate(133.78520379737517 688.3253637475933) rotate(0 -0.08251605632852943 31.547004500122625)"><path d="M8.27 35.15 C7.22 44.66, 5.1 53.56, 1.44 65.21" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g></g><mask></mask><g transform="translate(548.5718688964844 412.29997558593755) rotate(0 99.609375 12)"><text x="0" y="0" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">FormatRefWithRule</text></g><g transform="translate(173.49996948242188 197.9000122070313) rotate(0 46.21995544433594 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">AsFormat</text></g><g stroke-linecap="round"><g transform="translate(379.2999572753906 98.69999237060551) rotate(0 -4.2395088180899165 397.3698763117194)"><path d="M-0.67 -0.83 C-1.88 131.8, -6.37 662.91, -7.81 795.57" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g></g><mask></mask><g transform="translate(571.2999572753906 94.10000915527348) rotate(0 49.64994812011719 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Formatter</text></g><g transform="translate(137.29995727539062 94.89999694824223) rotate(0 86.74990844726562 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Python Formatter</text></g><g transform="translate(170.6799774169922 237.20000000000005) rotate(0 55.539947509765625 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">IntoFormat</text></g><g stroke-linecap="round"><g transform="translate(539.8374268938372 497.0520881963365) rotate(0 -150.8179816883952 75.17975331683893)"><path d="M0.66 1.04 C-11.86 16.71, -25.77 70.18, -76.27 94.9 C-126.76 119.61, -264.46 140.51, -302.3 149.32" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g transform="translate(539.8374268938372 497.0520881963365) rotate(0 -150.8179816883952 75.17975331683893)"><path d="M-274.88 134.28 C-282.07 138.56, -285.3 140.1, -302.99 150.04" stroke="#1e1e1e" stroke-width="1.5" fill="none"></path></g><g transform="translate(539.8374268938372 497.0520881963365) rotate(0 -150.8179816883952 75.17975331683893)"><path d="M-270.93 154.42 C-279.09 154.54, -283.14 151.91, -302.99 150.04" stroke="#1e1e1e" stroke-width="1.5" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(532.3000183105469 470.7974845151837) rotate(0 -213.30347040037128 12.346450118467985)"><path d="M0.18 -0.33 C-64.04 6.73, -314.56 45.23, -384.68 42.32 C-454.81 39.41, -414.8 -7.76, -420.57 -17.78" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g transform="translate(532.3000183105469 470.7974845151837) rotate(0 -213.30347040037128 12.346450118467985)"><path d="M-415.89 10.95 C-418.46 0.91, -420.79 -7.3, -422.45 -15.8" stroke="#1e1e1e" stroke-width="1.5" fill="none"></path></g><g transform="translate(532.3000183105469 470.7974845151837) rotate(0 -213.30347040037128 12.346450118467985)"><path d="M-436.1 7.4 C-431.61 -1.43, -426.88 -8.4, -422.45 -15.8" stroke="#1e1e1e" stroke-width="1.5" fill="none"></path></g></g><mask></mask><g transform="translate(611.0999450683594 656.9000122070313) rotate(0 54.789939880371094 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">FormatRule</text></g><g transform="translate(42.990570068359375 802.2) rotate(0 116.6734619140625 21)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="18.26086956521739px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Like FormatRule, but with</text><text x="0" y="20.999999999999996" font-family="Helvetica, Segoe UI Emoji" font-size="18.26086956521739px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">language specific extensions</text></g><g transform="translate(344.1499328613281 920.5499755859375) rotate(0 275.14971923828125 137.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Alternative:</text><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="50" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">struct FormatJsonArray&lt;'a&gt;(pub(crate) &amp;'a JsonArray);</text><text x="0" y="75" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">struct IntoFormatJsonArray&lt;'a&gt;(pub(crate) JsonArray);</text><text x="0" y="100" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="125" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">impl Format for FormatJsonArray();</text><text x="0" y="150" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="175" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">write!(f, [FormatJsonArray(array)])</text><text x="0" y="200" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="225" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Inspiration</text><text x="0" y="250" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">PathBuf::display() -&gt; Display</text></g><g transform="translate(160.74057006835938 287.45000000000005) rotate(0 90.5859375 34.5)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">We put this in</text><text x="0" y="23" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">every downstream</text><text x="0" y="46" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">crate to get .format()</text></g><g stroke-linecap="round"><g transform="translate(129.0656606945479 410.20000000000005) rotate(0 5.555782686903626 -87.19060253774916)"><path d="M-1.19 -0.23 C-4.09 -17.48, -21.69 -75.66, -16.71 -104.65 C-11.72 -133.64, 21.24 -162.3, 28.7 -174.16" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g><g transform="translate(129.0656606945479 410.20000000000005) rotate(0 5.555782686903626 -87.19060253774916)"><path d="M18.32 -144.01 C21.44 -154.67, 27.99 -165.87, 27.93 -174.69" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g><g transform="translate(129.0656606945479 410.20000000000005) rotate(0 5.555782686903626 -87.19060253774916)"><path d="M2.48 -157.05 C11.13 -162.9, 23.34 -169.45, 27.93 -174.69" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g></g><mask></mask><g transform="translate(563.1905212402344 694.3998901367188) rotate(0 116.71875 11.5)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">has JsonArray type param</text></g><g transform="translate(560.5905456542969 507.9999877929688) rotate(0 103.9404296875 34.5)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Gets FormatJsonArray,</text><text x="0" y="23" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">knows about JsonArray</text><text x="0" y="46" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">through FormatRule</text></g><g stroke-linecap="round"><g transform="translate(152.23770286887884 943.2390276446938) rotate(0 71.14746363013984 0.19196166910330703)"><path d="M-0.39 -0.74 C23.37 -0.66, 118.65 1.11, 142.68 1.13" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g><g transform="translate(152.23770286887884 943.2390276446938) rotate(0 71.14746363013984 0.19196166910330703)"><path d="M113.14 10.14 C124.15 8.94, 130.09 3.22, 142.75 0.46" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g><g transform="translate(152.23770286887884 943.2390276446938) rotate(0 71.14746363013984 0.19196166910330703)"><path d="M113.36 -10.38 C124.41 -5.15, 130.29 -4.45, 142.75 0.46" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g></g><mask></mask><g transform="translate(11.89996337890625 929.9000732421875) rotate(0 49.099945068359375 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">implements</text></g><g transform="translate(10 984.000048828125) rotate(0 50.45994567871094 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">references</text></g><g stroke-linecap="round"><g transform="translate(145.49996948242188 991.500048828125) rotate(0 70.99407679885627 0.5776236892631914)"><path d="M0.04 0.87 C23.74 0.76, 118.44 0.54, 141.95 0.29" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="8 9"></path></g><g transform="translate(145.49996948242188 991.500048828125) rotate(0 70.99407679885627 0.5776236892631914)"><path d="M115.27 10.8 C123.16 6.46, 129.44 3.36, 140.72 0.87" stroke="#1e1e1e" stroke-width="1.5" fill="none"></path></g><g transform="translate(145.49996948242188 991.500048828125) rotate(0 70.99407679885627 0.5776236892631914)"><path d="M115.15 -9.72 C123.24 -8.36, 129.55 -5.75, 140.72 0.87" stroke="#1e1e1e" stroke-width="1.5" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(244.800018310547 660.1415946656541) rotate(0 175.60834839195007 2.9824651267731213)"><path d="M-1.05 1.18 C57.48 2.15, 293.55 4.13, 352.27 4.78" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 7"></path></g><g transform="translate(244.800018310547 660.1415946656541) rotate(0 175.60834839195007 2.9824651267731213)"><path d="M325.95 16.72 C335.57 11.35, 347.18 6.06, 352.43 5.46" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g><g transform="translate(244.800018310547 660.1415946656541) rotate(0 175.60834839195007 2.9824651267731213)"><path d="M326.15 -3.8 C335.51 -1.15, 347.05 1.58, 352.43 5.46" stroke="#1e1e1e" stroke-width="1.5" fill="none" stroke-dasharray="1.5 5"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(543.9374786452586 692.4997829756555) rotate(0 -160.05633398630698 50.095879988414936)"><path d="M-0.47 1.17 C-14.29 16.92, -29.17 79.09, -82.52 93.79 C-135.86 108.49, -280.99 89.97, -320.55 89.37 M1.48 0.74 C-12.02 16.21, -26.58 77.03, -80.42 92.04 C-134.26 107.04, -281.73 91.4, -321.59 90.76" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(543.9374786452586 692.4997829756555) rotate(0 -160.05633398630698 50.095879988414936)"><path d="M-290.91 80.16 C-301.3 84.02, -311.77 87.95, -319.96 90.66 M-293.77 81.26 C-304.25 84.76, -312.75 87.84, -321.61 89.84" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(543.9374786452586 692.4997829756555) rotate(0 -160.05633398630698 50.095879988414936)"><path d="M-292.08 100.65 C-301.96 97.7, -312.04 94.83, -319.96 90.66 M-294.94 101.75 C-304.91 97.83, -312.98 93.47, -321.61 89.84" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g transform="translate(490.3000183105469 797.1000244140625) rotate(0 22.379974365234375 12.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">calls</text></g><g transform="translate(377.2405700683594 371.45000000000005) rotate(0 36.1376953125 11.5)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">our goal</text></g><g transform="translate(15.990570068359375 10) rotate(0 399.2080078125 20.69999999999999)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="36px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Getting Around the Orphan Rules in the Formatter</text></g><g stroke-linecap="round"><g transform="translate(187.74057006835938 431.6180634988329) rotate(0 201.1074482795829 -91.68550953275175)"><path d="M1.08 -0.29 C36.99 -12.67, 149.56 -42.86, 216.38 -73.33 C283.21 -103.79, 371.24 -164.81, 402.03 -183.08 M0.19 -1.49 C36.37 -13.8, 151.59 -42.11, 218.51 -72.14 C285.42 -102.16, 371.2 -163.38, 401.67 -181.63" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(187.74057006835938 431.6180634988329) rotate(0 201.1074482795829 -91.68550953275175)"><path d="M383.05 -159.59 C389.13 -165.66, 397.53 -176.24, 402.33 -183.01 M383.9 -158.14 C391.1 -166.01, 396.54 -174.61, 401.06 -180.85" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g><g transform="translate(187.74057006835938 431.6180634988329) rotate(0 201.1074482795829 -91.68550953275175)"><path d="M371.93 -176.83 C382.35 -176.46, 394.97 -180.51, 402.33 -183.01 M372.78 -175.38 C383.86 -176.9, 393.34 -179.23, 401.06 -180.85" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask></svg>