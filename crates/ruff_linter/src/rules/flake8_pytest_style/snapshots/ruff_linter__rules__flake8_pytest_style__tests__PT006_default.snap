---
source: crates/ruff_linter/src/rules/flake8_pytest_style/mod.rs
---
PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
 --> PT006.py:8:26
  |
8 | @pytest.mark.parametrize("param1,param2", [(1, 2), (3, 4)])
  |                          ^^^^^^^^^^^^^^^
9 | def test_csv(param1, param2): ...
  |
help: Use a `tuple` for the first argument
5  | def test_always_ok(param): ...
6  | 
7  | 
   - @pytest.mark.parametrize("param1,param2", [(1, 2), (3, 4)])
8  + @pytest.mark.parametrize(("param1", "param2"), [(1, 2), (3, 4)])
9  | def test_csv(param1, param2): ...
10 | 
11 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:12:26
   |
12 | @pytest.mark.parametrize("   param1,   ,    param2   , ", [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
13 | def test_csv_with_whitespace(param1, param2): ...
   |
help: Use a `tuple` for the first argument
9  | def test_csv(param1, param2): ...
10 | 
11 | 
   - @pytest.mark.parametrize("   param1,   ,    param2   , ", [(1, 2), (3, 4)])
12 + @pytest.mark.parametrize(("param1", "param2"), [(1, 2), (3, 4)])
13 | def test_csv_with_whitespace(param1, param2): ...
14 | 
15 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:16:26
   |
16 | @pytest.mark.parametrize("param1,param2", [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^
17 | def test_csv_bad_quotes(param1, param2): ...
   |
help: Use a `tuple` for the first argument
13 | def test_csv_with_whitespace(param1, param2): ...
14 | 
15 | 
   - @pytest.mark.parametrize("param1,param2", [(1, 2), (3, 4)])
16 + @pytest.mark.parametrize(("param1", "param2"), [(1, 2), (3, 4)])
17 | def test_csv_bad_quotes(param1, param2): ...
18 | 
19 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:24:26
   |
24 | @pytest.mark.parametrize(("param1",), [1, 2, 3])
   |                          ^^^^^^^^^^^
25 | def test_tuple_one_elem(param1, param2): ...
   |
help: Use a string for the first argument
21 | def test_tuple(param1, param2): ...
22 | 
23 | 
   - @pytest.mark.parametrize(("param1",), [1, 2, 3])
24 + @pytest.mark.parametrize("param1", [1, 2, 3])
25 | def test_tuple_one_elem(param1, param2): ...
26 | 
27 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:28:26
   |
28 | @pytest.mark.parametrize(["param1", "param2"], [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^^^^^^
29 | def test_list(param1, param2): ...
   |
help: Use a `tuple` for the first argument
25 | def test_tuple_one_elem(param1, param2): ...
26 | 
27 | 
   - @pytest.mark.parametrize(["param1", "param2"], [(1, 2), (3, 4)])
28 + @pytest.mark.parametrize(("param1", "param2"), [(1, 2), (3, 4)])
29 | def test_list(param1, param2): ...
30 | 
31 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:32:26
   |
32 | @pytest.mark.parametrize(["param1"], [1, 2, 3])
   |                          ^^^^^^^^^^
33 | def test_list_one_elem(param1, param2): ...
   |
help: Use a string for the first argument
29 | def test_list(param1, param2): ...
30 | 
31 | 
   - @pytest.mark.parametrize(["param1"], [1, 2, 3])
32 + @pytest.mark.parametrize("param1", [1, 2, 3])
33 | def test_list_one_elem(param1, param2): ...
34 | 
35 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:36:26
   |
36 | @pytest.mark.parametrize([some_expr, another_expr], [1, 2, 3])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^
37 | def test_list_expressions(param1, param2): ...
   |
help: Use a `tuple` for the first argument
33 | def test_list_one_elem(param1, param2): ...
34 | 
35 | 
   - @pytest.mark.parametrize([some_expr, another_expr], [1, 2, 3])
36 + @pytest.mark.parametrize((some_expr, another_expr), [1, 2, 3])
37 | def test_list_expressions(param1, param2): ...
38 | 
39 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:40:26
   |
40 | @pytest.mark.parametrize([some_expr, "param2"], [1, 2, 3])
   |                          ^^^^^^^^^^^^^^^^^^^^^
41 | def test_list_mixed_expr_literal(param1, param2): ...
   |
help: Use a `tuple` for the first argument
37 | def test_list_expressions(param1, param2): ...
38 | 
39 | 
   - @pytest.mark.parametrize([some_expr, "param2"], [1, 2, 3])
40 + @pytest.mark.parametrize((some_expr, "param2"), [1, 2, 3])
41 | def test_list_mixed_expr_literal(param1, param2): ...
42 | 
43 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:44:26
   |
44 | @pytest.mark.parametrize(("param1, param2, param3"), [(1, 2, 3), (4, 5, 6)])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
45 | def test_implicit_str_concat_with_parens(param1, param2, param3): ...
   |
help: Use a `tuple` for the first argument
41 | def test_list_mixed_expr_literal(param1, param2): ...
42 | 
43 | 
   - @pytest.mark.parametrize(("param1, param2, param3"), [(1, 2, 3), (4, 5, 6)])
44 + @pytest.mark.parametrize(("param1", "param2", "param3"), [(1, 2, 3), (4, 5, 6)])
45 | def test_implicit_str_concat_with_parens(param1, param2, param3): ...
46 | 
47 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:48:26
   |
48 | @pytest.mark.parametrize("param1, param2, param3", [(1, 2, 3), (4, 5, 6)])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^
49 | def test_implicit_str_concat_no_parens(param1, param2, param3): ...
   |
help: Use a `tuple` for the first argument
45 | def test_implicit_str_concat_with_parens(param1, param2, param3): ...
46 | 
47 | 
   - @pytest.mark.parametrize("param1, param2, param3", [(1, 2, 3), (4, 5, 6)])
48 + @pytest.mark.parametrize(("param1", "param2", "param3"), [(1, 2, 3), (4, 5, 6)])
49 | def test_implicit_str_concat_no_parens(param1, param2, param3): ...
50 | 
51 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:52:26
   |
52 | @pytest.mark.parametrize(("param1, param2, param3"), [(1, 2, 3), (4, 5, 6)])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
53 | def test_implicit_str_concat_with_multi_parens(param1, param2, param3): ...
   |
help: Use a `tuple` for the first argument
49 | def test_implicit_str_concat_no_parens(param1, param2, param3): ...
50 | 
51 | 
   - @pytest.mark.parametrize(("param1, param2, param3"), [(1, 2, 3), (4, 5, 6)])
52 + @pytest.mark.parametrize(("param1", "param2", "param3"), [(1, 2, 3), (4, 5, 6)])
53 | def test_implicit_str_concat_with_multi_parens(param1, param2, param3): ...
54 | 
55 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:56:26
   |
56 | @pytest.mark.parametrize(("param1,param2"), [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^^^
57 | def test_csv_with_parens(param1, param2): ...
   |
help: Use a `tuple` for the first argument
53 | def test_implicit_str_concat_with_multi_parens(param1, param2, param3): ...
54 | 
55 | 
   - @pytest.mark.parametrize(("param1,param2"), [(1, 2), (3, 4)])
56 + @pytest.mark.parametrize(("param1", "param2"), [(1, 2), (3, 4)])
57 | def test_csv_with_parens(param1, param2): ...
58 | 
59 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:60:39
   |
60 | parametrize = pytest.mark.parametrize(("param1,param2"), [(1, 2), (3, 4)])
   |                                       ^^^^^^^^^^^^^^^^^
   |
help: Use a `tuple` for the first argument
57 | def test_csv_with_parens(param1, param2): ...
58 | 
59 | 
   - parametrize = pytest.mark.parametrize(("param1,param2"), [(1, 2), (3, 4)])
60 + parametrize = pytest.mark.parametrize(("param1", "param2"), [(1, 2), (3, 4)])
61 | 
62 | 
63 | @parametrize
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `tuple`
  --> PT006.py:67:35
   |
67 | @pytest.mark.parametrize(argnames=("param1,param2"), argvalues=[(1, 2), (3, 4)])
   |                                   ^^^^^^^^^^^^^^^^^
68 | def test_keyword_arguments(param1, param2): ...
   |
help: Use a `tuple` for the first argument
64 | def test_not_decorator(param1, param2): ...
65 | 
66 | 
   - @pytest.mark.parametrize(argnames=("param1,param2"), argvalues=[(1, 2), (3, 4)])
67 + @pytest.mark.parametrize(argnames=("param1", "param2"), argvalues=[(1, 2), (3, 4)])
68 | def test_keyword_arguments(param1, param2): ...
69 | 
70 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:71:26
   |
71 | @pytest.mark.parametrize(("param",), [(1,), (2,)])
   |                          ^^^^^^^^^^
72 | def test_single_element_tuple(param): ...
   |
help: Use a string for the first argument
68 | def test_keyword_arguments(param1, param2): ...
69 | 
70 | 
   - @pytest.mark.parametrize(("param",), [(1,), (2,)])
71 + @pytest.mark.parametrize("param", [1, 2])
72 | def test_single_element_tuple(param): ...
73 | 
74 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:75:26
   |
75 | @pytest.mark.parametrize(("param",), [[1], [2]])
   |                          ^^^^^^^^^^
76 | def test_single_element_list(param): ...
   |
help: Use a string for the first argument
72 | def test_single_element_tuple(param): ...
73 | 
74 | 
   - @pytest.mark.parametrize(("param",), [[1], [2]])
75 + @pytest.mark.parametrize("param", [1, 2])
76 | def test_single_element_list(param): ...
77 | 
78 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:79:26
   |
79 | @pytest.mark.parametrize(("param",), [[1], [2]])
   |                          ^^^^^^^^^^
80 | def test_single_element_list(param): ...
   |
help: Use a string for the first argument
76 | def test_single_element_list(param): ...
77 | 
78 | 
   - @pytest.mark.parametrize(("param",), [[1], [2]])
79 + @pytest.mark.parametrize("param", [1, 2])
80 | def test_single_element_list(param): ...
81 | 
82 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:85:5
   |
83 |   # Unsafe fix
84 |   @pytest.mark.parametrize(
85 | /     (
86 | |         # comment
87 | |         "param",
88 | |     ),
   | |_____^
89 |       [[1], [2]],
90 |   )
   |
help: Use a string for the first argument
82 | 
83 | # Unsafe fix
84 | @pytest.mark.parametrize(
   -     (
   -         # comment
   -         "param",
   -     ),
   -     [[1], [2]],
85 +     "param",
86 +     [1, 2],
87 | )
88 | def test_comment_in_argnames(param): ...
89 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:96:5
   |
94 | # Unsafe fix
95 | @pytest.mark.parametrize(
96 |     ("param",),
   |     ^^^^^^^^^^
97 |     [
98 |         (
   |
help: Use a string for the first argument
93  | 
94  | # Unsafe fix
95  | @pytest.mark.parametrize(
    -     ("param",),
96  +     "param",
97  |     [
    -         (
    -             # comment
    -             1,
    -         ),
    -         (2,),
98  +         1,
99  +         2,
100 |     ],
101 | )
102 | def test_comment_in_argvalues(param): ...
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:110:5
    |
108 | # Safe fix
109 | @pytest.mark.parametrize(
110 |     ("param",),
    |     ^^^^^^^^^^
111 |     [
112 |         (1,),
    |
help: Use a string for the first argument
107 | 
108 | # Safe fix
109 | @pytest.mark.parametrize(
    -     ("param",),
110 +     "param",
111 |     [
    -         (1,),
112 +         1,
113 |         # comment
    -         (2,),
114 +         2,
115 |     ],
116 | )
117 | def test_comment_between_argvalues_items(param): ...

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:122:5
    |
120 | # A fix should be suggested for `argnames`, but not for `argvalues`.
121 | @pytest.mark.parametrize(
122 |     ("param",),
    |     ^^^^^^^^^^
123 |     [
124 |         (1,),
    |
help: Use a string for the first argument
119 | 
120 | # A fix should be suggested for `argnames`, but not for `argvalues`.
121 | @pytest.mark.parametrize(
    -     ("param",),
122 +     "param",
123 |     [
124 |         (1,),
125 |         (2, 3),

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:144:5
    |
142 | # See: https://github.com/astral-sh/ruff/issues/22441
143 | @pytest.mark.parametrize(
144 |     ["param"],
    |     ^^^^^^^^^
145 |     [
146 |         ((),),
    |
help: Use a string for the first argument
141 | # Regression tests for nested tuples that could cause syntax errors when unpacked.
142 | # See: https://github.com/astral-sh/ruff/issues/22441
143 | @pytest.mark.parametrize(
    -     ["param"],
144 +     "param",
145 |     [
    -         ((),),
    -         ((1,),),
146 +         (),
147 +         (1,),
148 |     ],
149 | )
150 | def test_single_element_nested_empty_tuple(param): ...

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:154:5
    |
153 | @pytest.mark.parametrize(
154 |     ["param"],
    |     ^^^^^^^^^
155 |     [
156 |         ((1, 2),),
    |
help: Use a string for the first argument
151 | 
152 | 
153 | @pytest.mark.parametrize(
    -     ["param"],
154 +     "param",
155 |     [
    -         ((1, 2),),
    -         ((3, 4),),
156 +         (1, 2),
157 +         (3, 4),
158 |     ],
159 | )
160 | def test_single_element_nested_multi_tuple(param): ...

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:164:5
    |
163 | @pytest.mark.parametrize(
164 |     ["param"],
    |     ^^^^^^^^^
165 |     [
166 |         (((1,),),),
    |
help: Use a string for the first argument
161 | 
162 | 
163 | @pytest.mark.parametrize(
    -     ["param"],
164 +     "param",
165 |     [
    -         (((1,),),),
166 +         ((1,),),
167 |     ],
168 | )
169 | def test_single_element_deeply_nested_tuple(param): ...

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:173:5
    |
172 | @pytest.mark.parametrize(
173 |     ["param"],
    |     ^^^^^^^^^
174 |     [
175 |         (((1,)),),
    |
help: Use a string for the first argument
170 | 
171 | 
172 | @pytest.mark.parametrize(
    -     ["param"],
173 +     "param",
174 |     [
    -         (((1,)),),
175 +         (1,),
176 |     ],
177 | )
178 | def test_single_element_grouped_tuple(param): ...
