---
source: crates/ruff_linter/src/rules/flake8_pytest_style/mod.rs
---
PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:9:26
   |
 9 | @pytest.mark.parametrize("param1,param2", [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^
10 | def test_csv(param1, param2):
11 |     ...
   |
help: Use a `list` for the first argument
6  |     ...
7  | 
8  | 
   - @pytest.mark.parametrize("param1,param2", [(1, 2), (3, 4)])
9  + @pytest.mark.parametrize(["param1", "param2"], [(1, 2), (3, 4)])
10 | def test_csv(param1, param2):
11 |     ...
12 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:14:26
   |
14 | @pytest.mark.parametrize("   param1,   ,    param2   , ", [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 | def test_csv_with_whitespace(param1, param2):
16 |     ...
   |
help: Use a `list` for the first argument
11 |     ...
12 | 
13 | 
   - @pytest.mark.parametrize("   param1,   ,    param2   , ", [(1, 2), (3, 4)])
14 + @pytest.mark.parametrize(["param1", "param2"], [(1, 2), (3, 4)])
15 | def test_csv_with_whitespace(param1, param2):
16 |     ...
17 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:19:26
   |
19 | @pytest.mark.parametrize("param1,param2", [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^
20 | def test_csv_bad_quotes(param1, param2):
21 |     ...
   |
help: Use a `list` for the first argument
16 |     ...
17 | 
18 | 
   - @pytest.mark.parametrize("param1,param2", [(1, 2), (3, 4)])
19 + @pytest.mark.parametrize(["param1", "param2"], [(1, 2), (3, 4)])
20 | def test_csv_bad_quotes(param1, param2):
21 |     ...
22 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:24:26
   |
24 | @pytest.mark.parametrize(("param1", "param2"), [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^^^^^^
25 | def test_tuple(param1, param2):
26 |     ...
   |
help: Use a `list` for the first argument
21 |     ...
22 | 
23 | 
   - @pytest.mark.parametrize(("param1", "param2"), [(1, 2), (3, 4)])
24 + @pytest.mark.parametrize(["param1", "param2"], [(1, 2), (3, 4)])
25 | def test_tuple(param1, param2):
26 |     ...
27 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:29:26
   |
29 | @pytest.mark.parametrize(("param1",), [1, 2, 3])
   |                          ^^^^^^^^^^^
30 | def test_tuple_one_elem(param1, param2):
31 |     ...
   |
help: Use a string for the first argument
26 |     ...
27 | 
28 | 
   - @pytest.mark.parametrize(("param1",), [1, 2, 3])
29 + @pytest.mark.parametrize("param1", [1, 2, 3])
30 | def test_tuple_one_elem(param1, param2):
31 |     ...
32 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:39:26
   |
39 | @pytest.mark.parametrize(["param1"], [1, 2, 3])
   |                          ^^^^^^^^^^
40 | def test_list_one_elem(param1, param2):
41 |     ...
   |
help: Use a string for the first argument
36 |     ...
37 | 
38 | 
   - @pytest.mark.parametrize(["param1"], [1, 2, 3])
39 + @pytest.mark.parametrize("param1", [1, 2, 3])
40 | def test_list_one_elem(param1, param2):
41 |     ...
42 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:54:26
   |
54 | @pytest.mark.parametrize(("param1, " "param2, " "param3"), [(1, 2, 3), (4, 5, 6)])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
55 | def test_implicit_str_concat_with_parens(param1, param2, param3):
56 |     ...
   |
help: Use a `list` for the first argument
51 |     ...
52 | 
53 | 
   - @pytest.mark.parametrize(("param1, " "param2, " "param3"), [(1, 2, 3), (4, 5, 6)])
54 + @pytest.mark.parametrize(["param1", "param2", "param3"], [(1, 2, 3), (4, 5, 6)])
55 | def test_implicit_str_concat_with_parens(param1, param2, param3):
56 |     ...
57 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:59:26
   |
59 | @pytest.mark.parametrize("param1, " "param2, " "param3", [(1, 2, 3), (4, 5, 6)])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
60 | def test_implicit_str_concat_no_parens(param1, param2, param3):
61 |     ...
   |
help: Use a `list` for the first argument
56 |     ...
57 | 
58 | 
   - @pytest.mark.parametrize("param1, " "param2, " "param3", [(1, 2, 3), (4, 5, 6)])
59 + @pytest.mark.parametrize(["param1", "param2", "param3"], [(1, 2, 3), (4, 5, 6)])
60 | def test_implicit_str_concat_no_parens(param1, param2, param3):
61 |     ...
62 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:64:26
   |
64 | @pytest.mark.parametrize((("param1, " "param2, " "param3")), [(1, 2, 3), (4, 5, 6)])
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
65 | def test_implicit_str_concat_with_multi_parens(param1, param2, param3):
66 |     ...
   |
help: Use a `list` for the first argument
61 |     ...
62 | 
63 | 
   - @pytest.mark.parametrize((("param1, " "param2, " "param3")), [(1, 2, 3), (4, 5, 6)])
64 + @pytest.mark.parametrize(["param1", "param2", "param3"], [(1, 2, 3), (4, 5, 6)])
65 | def test_implicit_str_concat_with_multi_parens(param1, param2, param3):
66 |     ...
67 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:69:26
   |
69 | @pytest.mark.parametrize(("param1,param2"), [(1, 2), (3, 4)])
   |                          ^^^^^^^^^^^^^^^^^
70 | def test_csv_with_parens(param1, param2):
71 |     ...
   |
help: Use a `list` for the first argument
66 |     ...
67 | 
68 | 
   - @pytest.mark.parametrize(("param1,param2"), [(1, 2), (3, 4)])
69 + @pytest.mark.parametrize(["param1", "param2"], [(1, 2), (3, 4)])
70 | def test_csv_with_parens(param1, param2):
71 |     ...
72 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:74:39
   |
74 | parametrize = pytest.mark.parametrize(("param1,param2"), [(1, 2), (3, 4)])
   |                                       ^^^^^^^^^^^^^^^^^
75 |
76 | @parametrize
   |
help: Use a `list` for the first argument
71 |     ...
72 | 
73 | 
   - parametrize = pytest.mark.parametrize(("param1,param2"), [(1, 2), (3, 4)])
74 + parametrize = pytest.mark.parametrize(["param1", "param2"], [(1, 2), (3, 4)])
75 | 
76 | @parametrize
77 | def test_not_decorator(param1, param2):
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `list`
  --> PT006.py:81:35
   |
81 | @pytest.mark.parametrize(argnames=("param1,param2"), argvalues=[(1, 2), (3, 4)])
   |                                   ^^^^^^^^^^^^^^^^^
82 | def test_keyword_arguments(param1, param2):
83 |     ...
   |
help: Use a `list` for the first argument
78 |     ...
79 | 
80 | 
   - @pytest.mark.parametrize(argnames=("param1,param2"), argvalues=[(1, 2), (3, 4)])
81 + @pytest.mark.parametrize(argnames=["param1", "param2"], argvalues=[(1, 2), (3, 4)])
82 | def test_keyword_arguments(param1, param2):
83 |     ...
84 | 
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:86:26
   |
86 | @pytest.mark.parametrize(("param",), [(1,), (2,)])
   |                          ^^^^^^^^^^
87 | def test_single_element_tuple(param):
88 |     ...
   |
help: Use a string for the first argument
83 |     ...
84 | 
85 | 
   - @pytest.mark.parametrize(("param",), [(1,), (2,)])
86 + @pytest.mark.parametrize("param", [1, 2])
87 | def test_single_element_tuple(param):
88 |     ...
89 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:91:26
   |
91 | @pytest.mark.parametrize(("param",), [[1], [2]])
   |                          ^^^^^^^^^^
92 | def test_single_element_list(param):
93 |     ...
   |
help: Use a string for the first argument
88 |     ...
89 | 
90 | 
   - @pytest.mark.parametrize(("param",), [[1], [2]])
91 + @pytest.mark.parametrize("param", [1, 2])
92 | def test_single_element_list(param):
93 |     ...
94 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
  --> PT006.py:96:26
   |
96 | @pytest.mark.parametrize(("param",), [[1], [2]])
   |                          ^^^^^^^^^^
97 | def test_single_element_list(param):
98 |     ...
   |
help: Use a string for the first argument
93 |     ...
94 | 
95 | 
   - @pytest.mark.parametrize(("param",), [[1], [2]])
96 + @pytest.mark.parametrize("param", [1, 2])
97 | def test_single_element_list(param):
98 |     ...
99 | 

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:103:5
    |
101 |   # Unsafe fix
102 |   @pytest.mark.parametrize(
103 | /     (
104 | |         # comment
105 | |         "param",
106 | |     ),
    | |_____^
107 |       [[1], [2]],
108 |   )
    |
help: Use a string for the first argument
100 | 
101 | # Unsafe fix
102 | @pytest.mark.parametrize(
    -     (
    -         # comment
    -         "param",
    -     ),
    -     [[1], [2]],
103 +     "param",
104 +     [1, 2],
105 | )
106 | def test_comment_in_argnames(param):
107 |     ...
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:114:5
    |
112 | # Unsafe fix
113 | @pytest.mark.parametrize(
114 |     ("param",),
    |     ^^^^^^^^^^
115 |     [
116 |         (
    |
help: Use a string for the first argument
111 | 
112 | # Unsafe fix
113 | @pytest.mark.parametrize(
    -     ("param",),
114 +     "param",
115 |     [
    -         (
    -             # comment
    -             1,
    -         ),
    -         (2,),
116 +         1,
117 +         2,
118 |     ],
119 | )
120 | def test_comment_in_argvalues(param):
note: This is an unsafe fix and may change runtime behavior

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:129:5
    |
127 | # Safe fix
128 | @pytest.mark.parametrize(
129 |     ("param",),
    |     ^^^^^^^^^^
130 |     [
131 |         (1,),
    |
help: Use a string for the first argument
126 | 
127 | # Safe fix
128 | @pytest.mark.parametrize(
    -     ("param",),
129 +     "param",
130 |     [
    -         (1,),
131 +         1,
132 |         # comment
    -         (2,),
133 +         2,
134 |     ],
135 | )
136 | def test_comment_between_argvalues_items(param):

PT006 [*] Wrong type passed to first argument of `pytest.mark.parametrize`; expected `str`
   --> PT006.py:142:5
    |
140 | # A fix should be suggested for `argnames`, but not for `argvalues`.
141 | @pytest.mark.parametrize(
142 |     ("param",),
    |     ^^^^^^^^^^
143 |     [
144 |         (1,),
    |
help: Use a string for the first argument
139 | 
140 | # A fix should be suggested for `argnames`, but not for `argvalues`.
141 | @pytest.mark.parametrize(
    -     ("param",),
142 +     "param",
143 |     [
144 |         (1,),
145 |         (2, 3),
