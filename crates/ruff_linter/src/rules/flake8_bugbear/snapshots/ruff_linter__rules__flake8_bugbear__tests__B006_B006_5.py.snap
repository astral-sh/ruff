---
source: crates/ruff_linter/src/rules/flake8_bugbear/mod.rs
---
B006_5.py:5:49: B006 [*] Do not use mutable data structures for argument defaults
  |
5 | def import_module_wrong(value: dict[str, str] = {}):
  |                                                 ^^ B006
6 |     import os
  |
  = help: Replace with `None`; initialize within function

ℹ Possible fix
2 2 | # https://github.com/astral-sh/ruff/issues/7616
3 3 | 
4 4 | 
5   |-def import_module_wrong(value: dict[str, str] = {}):
  5 |+def import_module_wrong(value: dict[str, str] = None):
6 6 |     import os
  7 |+    if value is None:
  8 |+        value = {}
7 9 | 
8 10 | 
9 11 | def import_module_with_values_wrong(value: dict[str, str] = {}):

B006_5.py:9:61: B006 [*] Do not use mutable data structures for argument defaults
   |
 9 | def import_module_with_values_wrong(value: dict[str, str] = {}):
   |                                                             ^^ B006
10 |     import os
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
6  6  |     import os
7  7  | 
8  8  | 
9     |-def import_module_with_values_wrong(value: dict[str, str] = {}):
   9  |+def import_module_with_values_wrong(value: dict[str, str] = None):
10 10 |     import os
   11 |+    if value is None:
   12 |+        value = {}
11 13 | 
12 14 |     return 2
13 15 | 

B006_5.py:15:50: B006 [*] Do not use mutable data structures for argument defaults
   |
15 | def import_modules_wrong(value: dict[str, str] = {}):
   |                                                  ^^ B006
16 |     import os
17 |     import sys
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
12 12 |     return 2
13 13 | 
14 14 | 
15    |-def import_modules_wrong(value: dict[str, str] = {}):
   15 |+def import_modules_wrong(value: dict[str, str] = None):
16 16 |     import os
17 17 |     import sys
18 18 |     import itertools
   19 |+    if value is None:
   20 |+        value = {}
19 21 | 
20 22 | 
21 23 | def from_import_module_wrong(value: dict[str, str] = {}):

B006_5.py:21:54: B006 [*] Do not use mutable data structures for argument defaults
   |
21 | def from_import_module_wrong(value: dict[str, str] = {}):
   |                                                      ^^ B006
22 |     from os import path
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
18 18 |     import itertools
19 19 | 
20 20 | 
21    |-def from_import_module_wrong(value: dict[str, str] = {}):
   21 |+def from_import_module_wrong(value: dict[str, str] = None):
22 22 |     from os import path
   23 |+    if value is None:
   24 |+        value = {}
23 25 | 
24 26 | 
25 27 | def from_imports_module_wrong(value: dict[str, str] = {}):

B006_5.py:25:55: B006 [*] Do not use mutable data structures for argument defaults
   |
25 | def from_imports_module_wrong(value: dict[str, str] = {}):
   |                                                       ^^ B006
26 |     from os import path
27 |     from sys import version_info
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
22 22 |     from os import path
23 23 | 
24 24 | 
25    |-def from_imports_module_wrong(value: dict[str, str] = {}):
   25 |+def from_imports_module_wrong(value: dict[str, str] = None):
26 26 |     from os import path
27 27 |     from sys import version_info
   28 |+    if value is None:
   29 |+        value = {}
28 30 | 
29 31 | 
30 32 | def import_and_from_imports_module_wrong(value: dict[str, str] = {}):

B006_5.py:30:66: B006 [*] Do not use mutable data structures for argument defaults
   |
30 | def import_and_from_imports_module_wrong(value: dict[str, str] = {}):
   |                                                                  ^^ B006
31 |     import os
32 |     from sys import version_info
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
27 27 |     from sys import version_info
28 28 | 
29 29 | 
30    |-def import_and_from_imports_module_wrong(value: dict[str, str] = {}):
   30 |+def import_and_from_imports_module_wrong(value: dict[str, str] = None):
31 31 |     import os
32 32 |     from sys import version_info
   33 |+    if value is None:
   34 |+        value = {}
33 35 | 
34 36 | 
35 37 | def import_docstring_module_wrong(value: dict[str, str] = {}):

B006_5.py:35:59: B006 [*] Do not use mutable data structures for argument defaults
   |
35 | def import_docstring_module_wrong(value: dict[str, str] = {}):
   |                                                           ^^ B006
36 |     """Docstring"""
37 |     import os
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
32 32 |     from sys import version_info
33 33 | 
34 34 | 
35    |-def import_docstring_module_wrong(value: dict[str, str] = {}):
   35 |+def import_docstring_module_wrong(value: dict[str, str] = None):
36 36 |     """Docstring"""
37 37 |     import os
   38 |+    if value is None:
   39 |+        value = {}
38 40 | 
39 41 | 
40 42 | def import_module_wrong(value: dict[str, str] = {}):

B006_5.py:40:49: B006 [*] Do not use mutable data structures for argument defaults
   |
40 | def import_module_wrong(value: dict[str, str] = {}):
   |                                                 ^^ B006
41 |     import os
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
37 37 |     import os
38 38 | 
39 39 | 
40    |-def import_module_wrong(value: dict[str, str] = {}):
   40 |+def import_module_wrong(value: dict[str, str] = None):
41 41 |     import os
   42 |+    if value is None:
   43 |+        value = {}
42 44 | 
43 45 | 
44 46 | def import_module_with_values_wrong(value: dict[str, str] = {}):

B006_5.py:44:61: B006 [*] Do not use mutable data structures for argument defaults
   |
44 | def import_module_with_values_wrong(value: dict[str, str] = {}):
   |                                                             ^^ B006
45 |     import os
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
41 41 |     import os
42 42 | 
43 43 | 
44    |-def import_module_with_values_wrong(value: dict[str, str] = {}):
   44 |+def import_module_with_values_wrong(value: dict[str, str] = None):
45 45 |     import os
   46 |+    if value is None:
   47 |+        value = {}
46 48 | 
47 49 |     return 2
48 50 | 

B006_5.py:50:50: B006 [*] Do not use mutable data structures for argument defaults
   |
50 | def import_modules_wrong(value: dict[str, str] = {}):
   |                                                  ^^ B006
51 |     import os
52 |     import sys
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
47 47 |     return 2
48 48 | 
49 49 | 
50    |-def import_modules_wrong(value: dict[str, str] = {}):
   50 |+def import_modules_wrong(value: dict[str, str] = None):
51 51 |     import os
52 52 |     import sys
53 53 |     import itertools
   54 |+    if value is None:
   55 |+        value = {}
54 56 | 
55 57 | 
56 58 | def from_import_module_wrong(value: dict[str, str] = {}):

B006_5.py:56:54: B006 [*] Do not use mutable data structures for argument defaults
   |
56 | def from_import_module_wrong(value: dict[str, str] = {}):
   |                                                      ^^ B006
57 |     from os import path
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
53 53 |     import itertools
54 54 | 
55 55 | 
56    |-def from_import_module_wrong(value: dict[str, str] = {}):
   56 |+def from_import_module_wrong(value: dict[str, str] = None):
57 57 |     from os import path
   58 |+    if value is None:
   59 |+        value = {}
58 60 | 
59 61 | 
60 62 | def from_imports_module_wrong(value: dict[str, str] = {}):

B006_5.py:60:55: B006 [*] Do not use mutable data structures for argument defaults
   |
60 | def from_imports_module_wrong(value: dict[str, str] = {}):
   |                                                       ^^ B006
61 |     from os import path
62 |     from sys import version_info
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
57 57 |     from os import path
58 58 | 
59 59 | 
60    |-def from_imports_module_wrong(value: dict[str, str] = {}):
   60 |+def from_imports_module_wrong(value: dict[str, str] = None):
61 61 |     from os import path
62 62 |     from sys import version_info
   63 |+    if value is None:
   64 |+        value = {}
63 65 | 
64 66 | 
65 67 | def import_and_from_imports_module_wrong(value: dict[str, str] = {}):

B006_5.py:65:66: B006 [*] Do not use mutable data structures for argument defaults
   |
65 | def import_and_from_imports_module_wrong(value: dict[str, str] = {}):
   |                                                                  ^^ B006
66 |     import os
67 |     from sys import version_info
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
62 62 |     from sys import version_info
63 63 | 
64 64 | 
65    |-def import_and_from_imports_module_wrong(value: dict[str, str] = {}):
   65 |+def import_and_from_imports_module_wrong(value: dict[str, str] = None):
66 66 |     import os
67 67 |     from sys import version_info
   68 |+    if value is None:
   69 |+        value = {}
68 70 | 
69 71 | 
70 72 | def import_docstring_module_wrong(value: dict[str, str] = {}):

B006_5.py:70:59: B006 [*] Do not use mutable data structures for argument defaults
   |
70 | def import_docstring_module_wrong(value: dict[str, str] = {}):
   |                                                           ^^ B006
71 |     """Docstring"""
72 |     import os
   |
   = help: Replace with `None`; initialize within function

ℹ Possible fix
67 67 |     from sys import version_info
68 68 | 
69 69 | 
70    |-def import_docstring_module_wrong(value: dict[str, str] = {}):
   70 |+def import_docstring_module_wrong(value: dict[str, str] = None):
71 71 |     """Docstring"""
72 72 |     import os
   73 |+    if value is None:
   74 |+        value = {}


