---
source: crates/ruff_linter/src/rules/ruff/mod.rs
---
RUF019 [*] Unnecessary key check before dictionary access
 --> RUF019.py:3:4
  |
1 | d = {}
2 | # RUF019
3 | if "k" in d and d["k"]:
  |    ^^^^^^^^^^^^^^^^^^^
4 |     pass
  |
help: Replace with `dict.get`
1 | d = {}
2 | # RUF019
  - if "k" in d and d["k"]:
3 + if d.get("k"):
4 |     pass
5 | 
6 | k = "k"

RUF019 [*] Unnecessary key check before dictionary access
 --> RUF019.py:7:4
  |
6 | k = "k"
7 | if k in d and d[k]:
  |    ^^^^^^^^^^^^^^^
8 |     pass
  |
help: Replace with `dict.get`
4  |     pass
5  | 
6  | k = "k"
   - if k in d and d[k]:
7  + if d.get(k):
8  |     pass
9  | 
10 | if (k) in d and d[k]:

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:10:4
   |
 8 |     pass
 9 |
10 | if (k) in d and d[k]:
   |    ^^^^^^^^^^^^^^^^^
11 |     pass
   |
help: Replace with `dict.get`
7  | if k in d and d[k]:
8  |     pass
9  | 
   - if (k) in d and d[k]:
10 + if d.get(k):
11 |     pass
12 | 
13 | if k in d and d[(k)]:

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:13:4
   |
11 |     pass
12 |
13 | if k in d and d[(k)]:
   |    ^^^^^^^^^^^^^^^^^
14 |     pass
   |
help: Replace with `dict.get`
10 | if (k) in d and d[k]:
11 |     pass
12 | 
   - if k in d and d[(k)]:
13 + if d.get((k)):
14 |     pass
15 | 
16 | not ("key" in dct and dct["key"])

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:16:6
   |
14 |     pass
15 |
16 | not ("key" in dct and dct["key"])
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
17 |
18 | bool("key" in dct and dct["key"])
   |
help: Replace with `dict.get`
13 | if k in d and d[(k)]:
14 |     pass
15 | 
   - not ("key" in dct and dct["key"])
16 + not (dct.get("key"))
17 | 
18 | bool("key" in dct and dct["key"])
19 | 

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:18:6
   |
16 | not ("key" in dct and dct["key"])
17 |
18 | bool("key" in dct and dct["key"])
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
19 |
20 | # OK
   |
help: Replace with `dict.get`
15 | 
16 | not ("key" in dct and dct["key"])
17 | 
   - bool("key" in dct and dct["key"])
18 + bool(dct.get("key"))
19 | 
20 | # OK
21 | v = "k" in d and d["k"]

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:35:4
   |
34 | # Unsafe: interpolation may call user-defined `__str__`.
35 | if f"{c}" in d and d[f"{c}"]:
   |    ^^^^^^^^^^^^^^^^^^^^^^^^^
36 |     pass
   |
help: Replace with `dict.get`
32 | c = C()
33 | 
34 | # Unsafe: interpolation may call user-defined `__str__`.
   - if f"{c}" in d and d[f"{c}"]:
35 + if d.get(f"{c}"):
36 |     pass
37 | 
38 | # Safe: literal-only f-string cases.
note: This is an unsafe fix and may change runtime behavior

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:39:4
   |
38 | # Safe: literal-only f-string cases.
39 | if f"k" in d and d[f"k"]:
   |    ^^^^^^^^^^^^^^^^^^^^^
40 |     pass
   |
help: Replace with `dict.get`
36 |     pass
37 | 
38 | # Safe: literal-only f-string cases.
   - if f"k" in d and d[f"k"]:
39 + if d.get(f"k"):
40 |     pass
41 | 
42 | if f"{1}" in d and d[f"{1}"]:

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:42:4
   |
40 |     pass
41 |
42 | if f"{1}" in d and d[f"{1}"]:
   |    ^^^^^^^^^^^^^^^^^^^^^^^^^
43 |     pass
   |
help: Replace with `dict.get`
39 | if f"k" in d and d[f"k"]:
40 |     pass
41 | 
   - if f"{1}" in d and d[f"{1}"]:
42 + if d.get(f"{1}"):
43 |     pass
44 | 
45 | if f"{-1}" in d and d[f"{-1}"]:

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:45:4
   |
43 |     pass
44 |
45 | if f"{-1}" in d and d[f"{-1}"]:
   |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
46 |     pass
   |
help: Replace with `dict.get`
42 | if f"{1}" in d and d[f"{1}"]:
43 |     pass
44 | 
   - if f"{-1}" in d and d[f"{-1}"]:
45 + if d.get(f"{-1}"):
46 |     pass
47 | 
48 | if f"{(1, 2)}" in d and d[f"{(1, 2)}"]:

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:48:4
   |
46 |     pass
47 |
48 | if f"{(1, 2)}" in d and d[f"{(1, 2)}"]:
   |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
49 |     pass
   |
help: Replace with `dict.get`
45 | if f"{-1}" in d and d[f"{-1}"]:
46 |     pass
47 | 
   - if f"{(1, 2)}" in d and d[f"{(1, 2)}"]:
48 + if d.get(f"{(1, 2)}"):
49 |     pass
50 | 
51 | 

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:53:9
   |
52 |   if (
53 | /         "key" in d
54 | |         and  # text
55 | |         d ["key"]
   | |_________________^
56 |   ):
57 |       ...
   |
help: Replace with `dict.get`
50 | 
51 | 
52 | if (
   -         "key" in d
   -         and  # text
   -         d ["key"]
53 +         d.get("key")
54 | ):
55 |     ...
note: This is an unsafe fix and may change runtime behavior
