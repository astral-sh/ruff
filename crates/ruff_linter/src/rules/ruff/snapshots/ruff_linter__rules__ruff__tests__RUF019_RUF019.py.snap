---
source: crates/ruff_linter/src/rules/ruff/mod.rs
---
RUF019 [*] Unnecessary key check before dictionary access
 --> RUF019.py:3:4
  |
1 | d = {}
2 | # RUF019
3 | if "k" in d and d["k"]:
  |    ^^^^^^^^^^^^^^^^^^^
4 |     pass
  |
help: Replace with `dict.get`
1 | d = {}
2 | # RUF019
  - if "k" in d and d["k"]:
3 + if d.get("k"):
4 |     pass
5 | 
6 | k = "k"

RUF019 [*] Unnecessary key check before dictionary access
 --> RUF019.py:7:4
  |
6 | k = "k"
7 | if k in d and d[k]:
  |    ^^^^^^^^^^^^^^^
8 |     pass
  |
help: Replace with `dict.get`
4  |     pass
5  | 
6  | k = "k"
   - if k in d and d[k]:
7  + if d.get(k):
8  |     pass
9  | 
10 | if (k) in d and d[k]:

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:10:4
   |
 8 |     pass
 9 |
10 | if (k) in d and d[k]:
   |    ^^^^^^^^^^^^^^^^^
11 |     pass
   |
help: Replace with `dict.get`
7  | if k in d and d[k]:
8  |     pass
9  | 
   - if (k) in d and d[k]:
10 + if d.get(k):
11 |     pass
12 | 
13 | if k in d and d[(k)]:

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:13:4
   |
11 |     pass
12 |
13 | if k in d and d[(k)]:
   |    ^^^^^^^^^^^^^^^^^
14 |     pass
   |
help: Replace with `dict.get`
10 | if (k) in d and d[k]:
11 |     pass
12 | 
   - if k in d and d[(k)]:
13 + if d.get((k)):
14 |     pass
15 | 
16 | not ("key" in dct and dct["key"])

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:16:6
   |
14 |     pass
15 |
16 | not ("key" in dct and dct["key"])
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
17 |
18 | bool("key" in dct and dct["key"])
   |
help: Replace with `dict.get`
13 | if k in d and d[(k)]:
14 |     pass
15 | 
   - not ("key" in dct and dct["key"])
16 + not (dct.get("key"))
17 | 
18 | bool("key" in dct and dct["key"])
19 | 

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:18:6
   |
16 | not ("key" in dct and dct["key"])
17 |
18 | bool("key" in dct and dct["key"])
   |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^
19 |
20 | # OK
   |
help: Replace with `dict.get`
15 | 
16 | not ("key" in dct and dct["key"])
17 | 
   - bool("key" in dct and dct["key"])
18 + bool(dct.get("key"))
19 | 
20 | # OK
21 | v = "k" in d and d["k"]

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:39:4
   |
38 | # side_effect -> Maybe: formatting may call user code; unsafe fix.
39 | if f"{c}" in d and d[f"{c}"]:
   |    ^^^^^^^^^^^^^^^^^^^^^^^^^
40 |     pass
   |
help: Replace with `dict.get`
36 |     pass
37 | 
38 | # side_effect -> Maybe: formatting may call user code; unsafe fix.
   - if f"{c}" in d and d[f"{c}"]:
39 + if d.get(f"{c}"):
40 |     pass
41 | 
42 | # side_effect -> No: literal-only interpolation; safe fix.
note: This is an unsafe fix and may change runtime behavior

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:43:4
   |
42 | # side_effect -> No: literal-only interpolation; safe fix.
43 | if f"{1}" in d and d[f"{1}"]:
   |    ^^^^^^^^^^^^^^^^^^^^^^^^^
44 |     pass
   |
help: Replace with `dict.get`
40 |     pass
41 | 
42 | # side_effect -> No: literal-only interpolation; safe fix.
   - if f"{1}" in d and d[f"{1}"]:
43 + if d.get(f"{1}"):
44 |     pass
45 | 
46 | 

RUF019 [*] Unnecessary key check before dictionary access
  --> RUF019.py:48:9
   |
47 |   if (
48 | /         "key" in d
49 | |         and  # text
50 | |         d ["key"]
   | |_________________^
51 |   ):
52 |       ...
   |
help: Replace with `dict.get`
45 | 
46 | 
47 | if (
   -         "key" in d
   -         and  # text
   -         d ["key"]
48 +         d.get("key")
49 | ):
50 |     ...
note: This is an unsafe fix and may change runtime behavior
