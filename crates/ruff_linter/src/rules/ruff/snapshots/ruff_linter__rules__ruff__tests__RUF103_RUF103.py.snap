---
source: crates/ruff_linter/src/rules/ruff/mod.rs
---
RUF103.py:9:9: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
 7 |     if b:
 8 |         global g
 9 |         g = 2  # RUF103: assignment reachable without global declaration
   |         ^ RUF103
10 |     else:
11 |         g = 3  # RUF103: assignment reachable without global declaration
   |

RUF103.py:11:9: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
 9 |         g = 2  # RUF103: assignment reachable without global declaration
10 |     else:
11 |         g = 3  # RUF103: assignment reachable without global declaration
   |         ^ RUF103
12 |
13 | # No global declaration - should not trigger
   |

RUF103.py:33:13: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
31 |         if other:
32 |             global g
33 |             g = 10  # RUF103: can be reached without global
   |             ^ RUF103
34 |         g = 20  # RUF103: can be reached without global
35 |     else:
   |

RUF103.py:34:9: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
32 |             global g
33 |             g = 10  # RUF103: can be reached without global
34 |         g = 20  # RUF103: can be reached without global
   |         ^ RUF103
35 |     else:
36 |         g = 30  # RUF103: can be reached without global
   |

RUF103.py:36:9: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
34 |         g = 20  # RUF103: can be reached without global
35 |     else:
36 |         g = 30  # RUF103: can be reached without global
   |         ^ RUF103
37 |
38 | # Nested function - should not trigger parent
   |

RUF103.py:52:9: RUF103 The variable x is declared using global, but is used in other branches of this function — this may be unintuitive
   |
50 |     if condition:
51 |         global x, y
52 |         x = 10  # RUF103
   |         ^ RUF103
53 |         y = 20  # RUF103
54 |     else:
   |

RUF103.py:53:9: RUF103 The variable y is declared using global, but is used in other branches of this function — this may be unintuitive
   |
51 |         global x, y
52 |         x = 10  # RUF103
53 |         y = 20  # RUF103
   |         ^ RUF103
54 |     else:
55 |         x = 30  # RUF103
   |

RUF103.py:55:9: RUF103 The variable x is declared using global, but is used in other branches of this function — this may be unintuitive
   |
53 |         y = 20  # RUF103
54 |     else:
55 |         x = 30  # RUF103
   |         ^ RUF103
56 |         # y not used here
   |

RUF103.py:63:13: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
61 |         if item > 5:
62 |             global g
63 |             g = item  # RUF103: can skip global declaration
   |             ^ RUF103
64 |         break
65 |     g = 0  # RUF103: can skip global declaration
   |

RUF103.py:65:5: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
63 |             g = item  # RUF103: can skip global declaration
64 |         break
65 |     g = 0  # RUF103: can skip global declaration
   |     ^ RUF103
66 |
67 | # Try/except case
   |

RUF103.py:72:13: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
70 |         if True:
71 |             global g
72 |             g = 100  # RUF103
   |             ^ RUF103
73 |     except:
74 |         g = 200  # RUF103: can skip global declaration
   |

RUF103.py:74:9: RUF103 The variable g is declared using global, but is used in other branches of this function — this may be unintuitive
   |
72 |             g = 100  # RUF103
73 |     except:
74 |         g = 200  # RUF103: can skip global declaration
   |         ^ RUF103
75 |
76 | # Simple nonlocal case - should trigger
   |

RUF103.py:83:13: RUF103 The variable n is declared using nonlocal, but is used in other branches of this function — this may be unintuitive
   |
81 |         if condition:
82 |             nonlocal n
83 |             n = 10  # RUF103: Should trigger for nonlocal
   |             ^ RUF103
84 |         else:
85 |             n = 20  # RUF103: Should trigger for nonlocal
   |

RUF103.py:85:13: RUF103 The variable n is declared using nonlocal, but is used in other branches of this function — this may be unintuitive
   |
83 |             n = 10  # RUF103: Should trigger for nonlocal
84 |         else:
85 |             n = 20  # RUF103: Should trigger for nonlocal
   |             ^ RUF103
86 |
87 |     return inner
   |
