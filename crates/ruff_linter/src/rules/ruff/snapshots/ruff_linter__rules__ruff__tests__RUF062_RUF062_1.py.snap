---
source: crates/ruff_linter/src/rules/ruff/mod.rs
---
RUF062_1.py:9:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
  |
7 |     yield "first"
8 |     if condition:
9 |         yield "conditional"  # RUF062
  |         ^^^^^^^^^^^^^^^^^^^ RUF062
  |

RUF062_1.py:21:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
   |
19 |     def another_inner_cm():
20 |         yield "first"
21 |         yield "second"  # RUF062
   |         ^^^^^^^^^^^^^^ RUF062
   |

RUF062_1.py:32:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
   |
30 |         pass
31 |     else:
32 |         yield "second"  # RUF062
   |         ^^^^^^^^^^^^^^ RUF062
33 |     print("done")
   |

RUF062_1.py:42:13: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
   |
40 |         case "a":
41 |             yield "one"
42 |             yield "two"  # RUF062
   |             ^^^^^^^^^^^ RUF062
43 |         case _:
44 |             yield "default"
   |

RUF062_1.py:51:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
   |
49 | def invalid_yield_in_loop():
50 |     for i in range(3):
51 |         yield i  # RUF062
   |         ^^^^^^^ RUF062
   |

RUF062_1.py:60:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
   |
58 |         yield "in try"
59 |     finally:
60 |         yield "in finally"  # RUF062
   |         ^^^^^^^^^^^^^^^^^^ RUF062
   |

RUF062_1.py:68:5: RUF062 Function decorated with `contextlib.asynccontextmanager` may yield more than once
   |
66 |     print("Setting up async")
67 |     yield "first async value"
68 |     yield "second async value"  # RUF062
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF062
69 |     print("Cleaning up async")
   |

RUF062_1.py:79:5: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
   |
77 | def invalid_with_import_alias():
78 |     yield "first"
79 |     yield "second"  # RUF062
   |     ^^^^^^^^^^^^^^ RUF062
   |

RUF062_1.py:89:5: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
   |
87 | def invalid_with_direct_import():
88 |     yield "first"
89 |     yield "second"  # RUF062
   |     ^^^^^^^^^^^^^^ RUF062
   |

RUF062_1.py:98:5: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
   |
96 |     yield "first value"
97 |     print("In between yields")
98 |     yield "second value"  # RUF062
   |     ^^^^^^^^^^^^^^^^^^^^ RUF062
99 |     print("Cleaning up")
   |

RUF062_1.py:108:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
    |
106 |     if condition:
107 |         yield "first in condition"
108 |         yield "second in condition"  # RUF062
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF062
109 |     else:
110 |         yield "in else"
    |

RUF062_1.py:127:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
    |
125 |         yield "in TypeError"  # Unreported RUF062; only report on max yield path
126 |     else:
127 |         yield "in else"  # RUF062
    |         ^^^^^^^^^^^^^^^ RUF062
128 |     finally:
129 |         yield "in finally"  # RUF062
    |

RUF062_1.py:129:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
    |
127 |         yield "in else"  # RUF062
128 |     finally:
129 |         yield "in finally"  # RUF062
    |         ^^^^^^^^^^^^^^^^^^ RUF062
    |

RUF062_1.py:136:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
    |
134 | def yield_in_for():
135 |     for i in range(3):
136 |         yield f"in loop {i}"  # RUF062 - multiple yields in loop
    |         ^^^^^^^^^^^^^^^^^^^^ RUF062
    |

RUF062_1.py:144:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
    |
142 |     x = 1
143 |     while x < 3:
144 |         yield f"in loop {x}"  # RUF062 - multiple yields in loop
    |         ^^^^^^^^^^^^^^^^^^^^ RUF062
145 |         x += 1
    |

RUF062_1.py:158:9: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
    |
156 |         return
157 |     finally:
158 |         yield
    |         ^^^^^ RUF062
    |

RUF062_1.py:171:5: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
    |
169 |         yield
170 |         return
171 |     yield
    |     ^^^^^ RUF062
    |

RUF062_1.py:181:5: RUF062 Function decorated with `contextlib.contextmanager` may yield more than once
    |
179 |     except:
180 |         return
181 |     yield
    |     ^^^^^ RUF062
    |
