---
source: crates/ruff_linter/src/rules/ruff/mod.rs
---
RUF060.py:57:5: RUF060 Function decorated with `contextlib.contextmanager` may yield more than once
   |
55 | # Invalid: Multiple yields in a context manager
56 | @contextlib.contextmanager
57 | def invalid_multiple_yields():
   |     ^^^^^^^^^^^^^^^^^^^^^^^ RUF060
58 |     print("Setting up")
59 |     yield "first value"
   |

RUF060.py:73:11: RUF060 Function decorated with `contextlib.contextmanager` may yield more than once
   |
71 | # Invalid: Multiple yields in an async context manager
72 | @contextlib.asynccontextmanager
73 | async def invalid_async_context_manager():
   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF060
74 |     print("Setting up async")
75 |     yield "first async value"
   |

RUF060.py:83:5: RUF060 Function decorated with `contextlib.contextmanager` may yield more than once
   |
82 | @ctx.contextmanager
83 | def invalid_with_import_alias():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^ RUF060
84 |     yield "first"
85 |     yield "second"  # RUF060
   |

RUF060.py:91:5: RUF060 Function decorated with `contextlib.contextmanager` may yield more than once
   |
90 | @contextmanager
91 | def invalid_with_direct_import():
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^ RUF060
92 |     yield "first"
93 |     yield "second"  # RUF060
   |

RUF060.py:102:9: RUF060 Function decorated with `contextlib.contextmanager` may yield more than once
    |
101 |     @contextlib.contextmanager
102 |     def another_inner_cm():
    |         ^^^^^^^^^^^^^^^^ RUF060
103 |         yield "first"
104 |         yield "second"  # RUF060
    |

RUF060.py:108:5: RUF060 Function decorated with `contextlib.contextmanager` may yield more than once
    |
106 | # Edge case: Variable number of yields based on conditions
107 | @contextlib.contextmanager
108 | def conditional_yields(condition):
    |     ^^^^^^^^^^^^^^^^^^ RUF060
109 |     yield "first"
110 |     if condition:
    |
