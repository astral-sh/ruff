---
source: crates/ruff_linter/src/rules/ruff/mod.rs
---
RUF028 [*] This suppression comment is invalid because it cannot be in an expression, pattern, argument list, or other non-statement
 --> RUF028.py:3:9
  |
1 | def fmt_off_between_lists():
2 |     test_list = [
3 |         # fmt: off
  |         ^^^^^^^^^^
4 |         1,
5 |         2,
  |
help: Remove this comment
1 | def fmt_off_between_lists():
2 |     test_list = [
  -         # fmt: off
3 |         1,
4 |         2,
5 |         3,
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be on its own line
  --> RUF028.py:12:5
   |
10 | # note: the second `fmt: skip`` should be OK
11 | def fmt_skip_on_own_line():
12 |     # fmt: skip
   |     ^^^^^^^^^^^
13 |     pass  # fmt: skip
   |
help: Remove this comment
9  | 
10 | # note: the second `fmt: skip`` should be OK
11 | def fmt_skip_on_own_line():
   -     # fmt: skip
12 |     pass  # fmt: skip
13 | 
14 | 
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be after a decorator
  --> RUF028.py:17:1
   |
16 | @fmt_skip_on_own_line
17 | # fmt: off
   | ^^^^^^^^^^
18 | @fmt_off_between_lists
19 | def fmt_off_between_decorators():
   |
help: Remove this comment
14 | 
15 | 
16 | @fmt_skip_on_own_line
   - # fmt: off
17 | @fmt_off_between_lists
18 | def fmt_off_between_decorators():
19 |     pass
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be after a decorator
  --> RUF028.py:24:1
   |
23 | @fmt_off_between_decorators
24 | # fmt: off
   | ^^^^^^^^^^
25 | class FmtOffBetweenClassDecorators:
26 |     ...
   |
help: Remove this comment
21 | 
22 | 
23 | @fmt_off_between_decorators
   - # fmt: off
24 | class FmtOffBetweenClassDecorators:
25 |     ...
26 | 
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be directly above an alternate body
  --> RUF028.py:33:5
   |
31 |     for val in x:
32 |         print(x)
33 |     # fmt: off
   |     ^^^^^^^^^^
34 |     else:
35 |         print("done")
   |
help: Remove this comment
30 |     x = [1, 2, 3]
31 |     for val in x:
32 |         print(x)
   -     # fmt: off
33 |     else:
34 |         print("done")
35 |     while False:
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be directly above an alternate body
  --> RUF028.py:39:5
   |
37 |         print("while")
38 |         # fmt: off
39 |     # fmt: off
   |     ^^^^^^^^^^
40 |     else:
41 |         print("done")
   |
help: Remove this comment
36 |     while False:
37 |         print("while")
38 |         # fmt: off
   -     # fmt: off
39 |     else:
40 |         print("done")
41 |     if len(x) > 3:
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be directly above an alternate body
  --> RUF028.py:45:5
   |
43 |         print("huh?")
44 |     # fmt: on
45 |     # fmt: off
   |     ^^^^^^^^^^
46 |     else:
47 |         print("expected")
   |
help: Remove this comment
42 |     if len(x) > 3:
43 |         print("huh?")
44 |     # fmt: on
   -     # fmt: off
45 |     else:
46 |         print("expected")
47 | 
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be after a decorator
  --> RUF028.py:52:5
   |
50 | class Test:
51 |     @classmethod
52 |     # fmt: off
   |     ^^^^^^^^^^
53 |     def cls_method_a(
54 |         # fmt: off
   |
help: Remove this comment
49 | 
50 | class Test:
51 |     @classmethod
   -     # fmt: off
52 |     def cls_method_a(
53 |         # fmt: off
54 |         cls,
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be in an expression, pattern, argument list, or other non-statement
  --> RUF028.py:54:9
   |
52 |     # fmt: off
53 |     def cls_method_a(
54 |         # fmt: off
   |         ^^^^^^^^^^
55 |         cls,
56 |     ) -> None: # noqa: test # fmt: skip
   |
help: Remove this comment
51 |     @classmethod
52 |     # fmt: off
53 |     def cls_method_a(
   -         # fmt: off
54 |         cls,
55 |     ) -> None: # noqa: test # fmt: skip
56 |         pass
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be at the end of a line
  --> RUF028.py:62:13
   |
60 | def fmt_on_trailing():
61 |     # fmt: off
62 |     val = 5 # fmt: on
   |             ^^^^^^^^^
63 |     pass # fmt: on
   |
help: Remove this comment
59 | 
60 | def fmt_on_trailing():
61 |     # fmt: off
   -     val = 5 # fmt: on
62 +     val = 5
63 |     pass # fmt: on
64 | 
65 | 
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be at the end of a line
  --> RUF028.py:63:10
   |
61 |     # fmt: off
62 |     val = 5 # fmt: on
63 |     pass # fmt: on
   |          ^^^^^^^^^
   |
help: Remove this comment
60 | def fmt_on_trailing():
61 |     # fmt: off
62 |     val = 5 # fmt: on
   -     pass # fmt: on
63 +     pass
64 | 
65 | 
66 | # all of these should be fine
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be around a class signature
   --> RUF028.py:107:1
    |
106 | # Test cases for fmt: off/on around class signatures (RUF028)
107 | # fmt: off
    | ^^^^^^^^^^
108 | class TestClassSignature1:
109 |     pass
    |
help: Remove this comment
104 | 
105 | 
106 | # Test cases for fmt: off/on around class signatures (RUF028)
    - # fmt: off
107 | class TestClassSignature1:
108 |     pass
109 | # fmt: on
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be around a class signature
   --> RUF028.py:110:1
    |
108 | class TestClassSignature1:
109 |     pass
110 | # fmt: on
    | ^^^^^^^^^
111 |
112 | class TestClassSignature2:
    |
help: Remove this comment
107 | # fmt: off
108 | class TestClassSignature1:
109 |     pass
    - # fmt: on
110 | 
111 | class TestClassSignature2:
112 |     pass
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be around a class signature
   --> RUF028.py:114:1
    |
112 | class TestClassSignature2:
113 |     pass
114 | # fmt: off
    | ^^^^^^^^^^
115 |
116 | # fmt: off
    |
help: Remove this comment
111 | 
112 | class TestClassSignature2:
113 |     pass
    - # fmt: off
114 | 
115 | # fmt: off
116 | @decorator
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be around a class signature
   --> RUF028.py:116:1
    |
114 | # fmt: off
115 |
116 | # fmt: off
    | ^^^^^^^^^^
117 | @decorator
118 | class TestClassSignature3:
    |
help: Remove this comment
113 |     pass
114 | # fmt: off
115 | 
    - # fmt: off
116 | @decorator
117 | class TestClassSignature3:
118 |     pass
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be around a class signature
   --> RUF028.py:120:1
    |
118 | class TestClassSignature3:
119 |     pass
120 | # fmt: on
    | ^^^^^^^^^
121 |
122 | class TestClassSignature4:
    |
help: Remove this comment
117 | @decorator
118 | class TestClassSignature3:
119 |     pass
    - # fmt: on
120 | 
121 | class TestClassSignature4:
122 |     pass
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be around a class signature
   --> RUF028.py:124:1
    |
122 | class TestClassSignature4:
123 |     pass
124 | # fmt: on
    | ^^^^^^^^^
125 |
126 | # Test cases that should NOT be flagged (valid uses inside class body)
    |
help: Remove this comment
121 | 
122 | class TestClassSignature4:
123 |     pass
    - # fmt: on
124 | 
125 | # Test cases that should NOT be flagged (valid uses inside class body)
126 | class ValidClassWithFmtOff:
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be around a class signature
   --> RUF028.py:151:34
    |
150 | # Test case for trailing comment on class definition line (should be flagged)
151 | class ClassWithTrailingComment:  # fmt: off
    |                                  ^^^^^^^^^^
152 |     pass
    |
help: Remove this comment
148 |     # fmt: on
149 | 
150 | # Test case for trailing comment on class definition line (should be flagged)
    - class ClassWithTrailingComment:  # fmt: off
151 + class ClassWithTrailingComment:
152 |     pass
153 | 
154 | class AnotherClassWithTrailing:  # fmt: on
note: This is an unsafe fix and may change runtime behavior

RUF028 [*] This suppression comment is invalid because it cannot be around a class signature
   --> RUF028.py:154:34
    |
152 |     pass
153 |
154 | class AnotherClassWithTrailing:  # fmt: on
    |                                  ^^^^^^^^^
155 |     pass
    |
help: Remove this comment
151 | class ClassWithTrailingComment:  # fmt: off
152 |     pass
153 | 
    - class AnotherClassWithTrailing:  # fmt: on
154 + class AnotherClassWithTrailing:
155 |     pass
note: This is an unsafe fix and may change runtime behavior
