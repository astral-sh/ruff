---
source: crates/ruff_linter/src/rules/ruff/mod.rs
---
RUF017 [*] Avoid quadratic list summation
 --> RUF017_0.py:5:1
  |
4 | # RUF017
5 | sum([x, y], start=[])
  | ^^^^^^^^^^^^^^^^^^^^^
6 | sum([x, y], [])
7 | sum([[1, 2, 3], [4, 5, 6]], start=[])
  |
help: Replace with `functools.reduce`
1  + import functools
2  + import operator
3  | x = [1, 2, 3]
4  | y = [4, 5, 6]
5  | 
6  | # RUF017
   - sum([x, y], start=[])
7  + functools.reduce(operator.iadd, [x, y], [])
8  | sum([x, y], [])
9  | sum([[1, 2, 3], [4, 5, 6]], start=[])
10 | sum([[1, 2, 3], [4, 5, 6]], [])
note: This is an unsafe fix and may change runtime behavior

RUF017 [*] Avoid quadratic list summation
 --> RUF017_0.py:6:1
  |
4 | # RUF017
5 | sum([x, y], start=[])
6 | sum([x, y], [])
  | ^^^^^^^^^^^^^^^
7 | sum([[1, 2, 3], [4, 5, 6]], start=[])
8 | sum([[1, 2, 3], [4, 5, 6]], [])
  |
help: Replace with `functools.reduce`
1  + import functools
2  + import operator
3  | x = [1, 2, 3]
4  | y = [4, 5, 6]
5  | 
6  | # RUF017
7  | sum([x, y], start=[])
   - sum([x, y], [])
8  + functools.reduce(operator.iadd, [x, y], [])
9  | sum([[1, 2, 3], [4, 5, 6]], start=[])
10 | sum([[1, 2, 3], [4, 5, 6]], [])
11 | sum([[1, 2, 3], [4, 5, 6]],
note: This is an unsafe fix and may change runtime behavior

RUF017 [*] Avoid quadratic list summation
 --> RUF017_0.py:7:1
  |
5 | sum([x, y], start=[])
6 | sum([x, y], [])
7 | sum([[1, 2, 3], [4, 5, 6]], start=[])
  | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
8 | sum([[1, 2, 3], [4, 5, 6]], [])
9 | sum([[1, 2, 3], [4, 5, 6]],
  |
help: Replace with `functools.reduce`
1  + import functools
2  + import operator
3  | x = [1, 2, 3]
4  | y = [4, 5, 6]
5  | 
6  | # RUF017
7  | sum([x, y], start=[])
8  | sum([x, y], [])
   - sum([[1, 2, 3], [4, 5, 6]], start=[])
9  + functools.reduce(operator.iadd, [[1, 2, 3], [4, 5, 6]], [])
10 | sum([[1, 2, 3], [4, 5, 6]], [])
11 | sum([[1, 2, 3], [4, 5, 6]],
12 |     [])
note: This is an unsafe fix and may change runtime behavior

RUF017 [*] Avoid quadratic list summation
  --> RUF017_0.py:8:1
   |
 6 | sum([x, y], [])
 7 | sum([[1, 2, 3], [4, 5, 6]], start=[])
 8 | sum([[1, 2, 3], [4, 5, 6]], [])
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 9 | sum([[1, 2, 3], [4, 5, 6]],
10 |     [])
   |
help: Replace with `functools.reduce`
1  + import functools
2  + import operator
3  | x = [1, 2, 3]
4  | y = [4, 5, 6]
5  | 
--------------------------------------------------------------------------------
7  | sum([x, y], start=[])
8  | sum([x, y], [])
9  | sum([[1, 2, 3], [4, 5, 6]], start=[])
   - sum([[1, 2, 3], [4, 5, 6]], [])
10 + functools.reduce(operator.iadd, [[1, 2, 3], [4, 5, 6]], [])
11 | sum([[1, 2, 3], [4, 5, 6]],
12 |     [])
13 | 
note: This is an unsafe fix and may change runtime behavior

RUF017 [*] Avoid quadratic list summation
  --> RUF017_0.py:9:1
   |
 7 |   sum([[1, 2, 3], [4, 5, 6]], start=[])
 8 |   sum([[1, 2, 3], [4, 5, 6]], [])
 9 | / sum([[1, 2, 3], [4, 5, 6]],
10 | |     [])
   | |_______^
11 |
12 |   # OK
   |
help: Replace with `functools.reduce`
1  + import functools
2  + import operator
3  | x = [1, 2, 3]
4  | y = [4, 5, 6]
5  | 
--------------------------------------------------------------------------------
8  | sum([x, y], [])
9  | sum([[1, 2, 3], [4, 5, 6]], start=[])
10 | sum([[1, 2, 3], [4, 5, 6]], [])
   - sum([[1, 2, 3], [4, 5, 6]],
   -     [])
11 + functools.reduce(operator.iadd, [[1, 2, 3], [4, 5, 6]], [])
12 | 
13 | # OK
14 | sum([x, y])
note: This is an unsafe fix and may change runtime behavior

RUF017 [*] Avoid quadratic list summation
  --> RUF017_0.py:21:5
   |
19 |     import functools, operator
20 |
21 |     sum([x, y], [])
   |     ^^^^^^^^^^^^^^^
   |
help: Replace with `functools.reduce`
18 | def func():
19 |     import functools, operator
20 | 
   -     sum([x, y], [])
21 +     functools.reduce(operator.iadd, [x, y], [])
22 | 
23 | 
24 | # Regression test for: https://github.com/astral-sh/ruff/issues/7718
note: This is an unsafe fix and may change runtime behavior

RUF017 [*] Avoid quadratic list summation
  --> RUF017_0.py:26:5
   |
24 | # Regression test for: https://github.com/astral-sh/ruff/issues/7718
25 | def func():
26 |     sum((factor.dims for factor in bases), [])
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: Replace with `functools.reduce`
1  + import functools
2  + import operator
3  | x = [1, 2, 3]
4  | y = [4, 5, 6]
5  | 
--------------------------------------------------------------------------------
25 | 
26 | # Regression test for: https://github.com/astral-sh/ruff/issues/7718
27 | def func():
   -     sum((factor.dims for factor in bases), [])
28 +     functools.reduce(operator.iadd, (factor.dims for factor in bases), [])
note: This is an unsafe fix and may change runtime behavior
