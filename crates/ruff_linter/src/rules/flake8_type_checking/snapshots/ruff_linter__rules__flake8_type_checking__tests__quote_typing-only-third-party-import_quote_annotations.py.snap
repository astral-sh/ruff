---
source: crates/ruff_linter/src/rules/flake8_type_checking/mod.rs
---
quote_annotations.py:2:44: TCH002 [*] Move third-party import `django.contrib.auth.models.AbstractBaseUser` into a type-checking block
  |
1 | def f():
2 |     from django.contrib.auth.models import AbstractBaseUser
  |                                            ^^^^^^^^^^^^^^^^ TCH002
3 |     from typing import Annotated
  |
  = help: Move into type-checking block

ℹ Unsafe fix
   1  |+from typing import TYPE_CHECKING
   2  |+
   3  |+if TYPE_CHECKING:
   4  |+    from django.contrib.auth.models import AbstractBaseUser
1  5  | def f():
2     |-    from django.contrib.auth.models import AbstractBaseUser
3  6  |     from typing import Annotated
4  7  | 
5     |-    def test_remove_inner_quotes_double(self, user: AbstractBaseUser["int"], view: "type[CondorBaseViewSet]"):
   8  |+    def test_remove_inner_quotes_double(self, user: "AbstractBaseUser[int]", view: "type[CondorBaseViewSet]"):
6  9  |         pass
7  10 | 
8     |-    def test_remove_inner_quotes_single(self, user: AbstractBaseUser['int']):
   11 |+    def test_remove_inner_quotes_single(self, user: "AbstractBaseUser[int]"):
9  12 |         pass
10 13 | 
11    |-    def test_remove_inner_quotes_mixed(self, user: AbstractBaseUser['int', "str"]):
   14 |+    def test_remove_inner_quotes_mixed(self, user: "AbstractBaseUser[int, str]"):
12 15 |         pass
13 16 | 
14    |-    def test_literal_annotation_args_contain_quotes(self, type1: AbstractBaseUser[Literal["user", "admin"], Annotated["int", "1", 2]]):
   17 |+    def test_literal_annotation_args_contain_quotes(self, type1: "AbstractBaseUser[Literal['user', 'admin'], Annotated[int, '1', 2]]"):
15 18 |         pass
16 19 | 
17    |-    def test_union_contain_inner_quotes(self, type1: AbstractBaseUser["int" | Literal["int"]]):
   20 |+    def test_union_contain_inner_quotes(self, type1: "AbstractBaseUser[int | Literal['int']]"):
18 21 |         pass
19 22 | 
20    |-    def test_literal_cannot_remove(user: AbstractBaseUser[Literal['user', "admin"]]):
   23 |+    def test_literal_cannot_remove(user: "AbstractBaseUser[Literal['user', 'admin']]"):
21 24 |         pass
22 25 | 
23    |-    def test_literal_cannot_remove2(user: AbstractBaseUser[Literal['int'], str]):
   26 |+    def test_literal_cannot_remove2(user: "AbstractBaseUser[Literal['int'], str]"):
24 27 |         pass
25 28 | 
26 29 |     def test_type_literal_mixed_quotes(view: type["CondorBaseViewSet"], role: Literal["admin", 'user']):
27 30 |         pass
28 31 | 
29    |-    def test_mixed_quotes_literal(user: AbstractBaseUser[Literal['user'], "int"]):
   32 |+    def test_mixed_quotes_literal(user: "AbstractBaseUser[Literal['user'], int]"):
30 33 |         pass
31 34 | 
32 35 |     def test_annotated_literal_mixed_quotes(user: Annotated[str, "max_length=20", Literal['user', "admin"]]):

quote_annotations.py:83:12: TCH002 [*] Move third-party import `a` into a type-checking block
   |
81 | def case_attribute():
82 |     import typing
83 |     import a
   |            ^ TCH002
84 | 
85 |     def test_attribute(arg: a.b["int"]):
   |
   = help: Move into type-checking block

ℹ Unsafe fix
   1  |+from typing import TYPE_CHECKING
   2  |+
   3  |+if TYPE_CHECKING:
   4  |+    import a
1  5  | def f():
2  6  |     from django.contrib.auth.models import AbstractBaseUser
3  7  |     from typing import Annotated
--------------------------------------------------------------------------------
80 84 | 
81 85 | def case_attribute():
82 86 |     import typing
83    |-    import a
84 87 | 
85    |-    def test_attribute(arg: a.b["int"]):
   88 |+    def test_attribute(arg: "a.b[int]"):
86 89 |         ...
87 90 | 
88    |-    def test_attribute_typing_literal(arg: a[typing.Literal["admin"]]):
   91 |+    def test_attribute_typing_literal(arg: "a[typing.Literal['admin']]"):
89 92 |         ...
