---
source: crates/ruff_linter/src/rules/flake8_return/mod.rs
---
RET504.py:6:12: RET504 [*] Unnecessary assignment to `a` before `return` statement
  |
4 | def x():
5 |     a = 1
6 |     return a  # RET504
  |            ^ RET504
  |
  = help: Remove unnecessary assignment


RET504.py:23:12: RET504 [*] Unnecessary assignment to `formatted` before `return` statement
   |
21 |     # clean up after any blank components
22 |     formatted = formatted.replace("()", "").replace("  ", " ").strip()
23 |     return formatted
   |            ^^^^^^^^^ RET504
   |
   = help: Remove unnecessary assignment


RET504.py:246:12: RET504 [*] Unnecessary assignment to `queryset` before `return` statement
    |
244 |     queryset = Model.filter(a=1)
245 |     queryset = queryset.filter(c=3)
246 |     return queryset
    |            ^^^^^^^^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:251:12: RET504 [*] Unnecessary assignment to `queryset` before `return` statement
    |
249 | def get_queryset():
250 |     queryset = Model.filter(a=1)
251 |     return queryset  # RET504
    |            ^^^^^^^^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:269:12: RET504 [*] Unnecessary assignment to `val` before `return` statement
    |
267 |         return val
268 |     val = 1
269 |     return val  # RET504
    |            ^^^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:321:12: RET504 [*] Unnecessary assignment to `x` before `return` statement
    |
319 |     with open("foo.txt", "r") as f:
320 |         x = f.read()
321 |     return x  # RET504
    |            ^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:342:12: RET504 [*] Unnecessary assignment to `b` before `return` statement
    |
340 |     a = 1
341 |     b=a
342 |     return b  # RET504
    |            ^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:348:12: RET504 [*] Unnecessary assignment to `b` before `return` statement
    |
346 |     a = 1
347 |     b =a
348 |     return b  # RET504
    |            ^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:354:12: RET504 [*] Unnecessary assignment to `b` before `return` statement
    |
352 |     a = 1
353 |     b= a
354 |     return b  # RET504
    |            ^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:359:12: RET504 [*] Unnecessary assignment to `a` before `return` statement
    |
357 | def foo():
358 |     a = 1  # Comment
359 |     return a
    |            ^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:365:12: RET504 [*] Unnecessary assignment to `D` before `return` statement
    |
363 | def mavko_debari(P_kbar):
364 |     D=0.4853881 + 3.6006116*P - 0.0117368*(P-1.3822)**2
365 |     return D
    |            ^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:400:12: RET504 [*] Unnecessary assignment to `y` before `return` statement
    |
398 |         x = 1
399 |     y = y + 2
400 |     return y  # RET504
    |            ^ RET504
    |
    = help: Remove unnecessary assignment


RET504.py:423:16: RET504 [*] Unnecessary assignment to `services` before `return` statement
    |
421 |     if "services" in a:
422 |         services = a["services"]
423 |         return services
    |                ^^^^^^^^ RET504
    |
    = help: Remove unnecessary assignment
