---
source: crates/ruff_linter/src/rules/pylint/mod.rs
---
and_or_ternary.py:47:1: PLR1706 [*] Consider using if-else expression (`'a' if 1 < 2 else 'b'`)
   |
45 | # Ternary (Error)
46 | 
47 | 1<2 and 'a' or 'b'
   | ^^^^^^^^^^^^^^^^^^ PLR1706
48 | 
49 | (lambda x: x+1) and 'a' or 'b'
   |
   = help: Convert to if-else expression

ℹ Suggested fix
44 44 | 
45 45 | # Ternary (Error)
46 46 | 
47    |-1<2 and 'a' or 'b'
   47 |+'a' if 1 < 2 else 'b'
48 48 | 
49 49 | (lambda x: x+1) and 'a' or 'b'
50 50 | 

and_or_ternary.py:49:1: PLR1706 [*] Consider using if-else expression (`'a' if (lambda x: x + 1) else 'b'`)
   |
47 | 1<2 and 'a' or 'b'
48 | 
49 | (lambda x: x+1) and 'a' or 'b'
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ PLR1706
50 | 
51 | 'a' and (lambda x: x+1) or 'orange'
   |
   = help: Convert to if-else expression

ℹ Suggested fix
46 46 | 
47 47 | 1<2 and 'a' or 'b'
48 48 | 
49    |-(lambda x: x+1) and 'a' or 'b'
   49 |+'a' if (lambda x: x + 1) else 'b'
50 50 | 
51 51 | 'a' and (lambda x: x+1) or 'orange'
52 52 | 

and_or_ternary.py:51:1: PLR1706 [*] Consider using if-else expression (`(lambda x: x + 1) if 'a' else 'orange'`)
   |
49 | (lambda x: x+1) and 'a' or 'b'
50 | 
51 | 'a' and (lambda x: x+1) or 'orange'
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ PLR1706
52 | 
53 | val = '#0000FF'
   |
   = help: Convert to if-else expression

ℹ Suggested fix
48 48 | 
49 49 | (lambda x: x+1) and 'a' or 'b'
50 50 | 
51    |-'a' and (lambda x: x+1) or 'orange'
   51 |+(lambda x: x + 1) if 'a' else 'orange'
52 52 | 
53 53 | val = '#0000FF'
54 54 | (len(val) == 7 and val[0] == "#") or val in {'green'}

and_or_ternary.py:54:1: PLR1706 [*] Consider using if-else expression
   |
53 | val = '#0000FF'
54 | (len(val) == 7 and val[0] == "#") or val in {'green'}
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ PLR1706
55 | 
56 | marker = 'marker'
   |
   = help: Convert to if-else expression

ℹ Suggested fix
51 51 | 'a' and (lambda x: x+1) or 'orange'
52 52 | 
53 53 | val = '#0000FF'
54    |-(len(val) == 7 and val[0] == "#") or val in {'green'}
   54 |+val[0] == '#' if len(val) == 7 else val in {'green'}
55 55 | 
56 56 | marker = 'marker'
57 57 | isinstance(marker, dict) and 'field' in marker or marker in {}

and_or_ternary.py:57:1: PLR1706 [*] Consider using if-else expression
   |
56 | marker = 'marker'
57 | isinstance(marker, dict) and 'field' in marker or marker in {}
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ PLR1706
58 | 
59 | def has_oranges(oranges, apples=None) -> bool:
   |
   = help: Convert to if-else expression

ℹ Suggested fix
54 54 | (len(val) == 7 and val[0] == "#") or val in {'green'}
55 55 | 
56 56 | marker = 'marker'
57    |-isinstance(marker, dict) and 'field' in marker or marker in {}
   57 |+'field' in marker if isinstance(marker, dict) else marker in {}
58 58 | 
59 59 | def has_oranges(oranges, apples=None) -> bool:
60 60 |     return apples and False or oranges

and_or_ternary.py:60:12: PLR1706 [*] Consider using if-else expression (`False if apples else oranges`)
   |
59 | def has_oranges(oranges, apples=None) -> bool:
60 |     return apples and False or oranges
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^ PLR1706
61 | 
62 | [x for x in l if a and b or c]
   |
   = help: Convert to if-else expression

ℹ Suggested fix
57 57 | isinstance(marker, dict) and 'field' in marker or marker in {}
58 58 | 
59 59 | def has_oranges(oranges, apples=None) -> bool:
60    |-    return apples and False or oranges
   60 |+    return False if apples else oranges
61 61 | 
62 62 | [x for x in l if a and b or c]
63 63 | 

and_or_ternary.py:62:18: PLR1706 [*] Consider using if-else expression (`(b if a else c)`)
   |
60 |     return apples and False or oranges
61 | 
62 | [x for x in l if a and b or c]
   |                  ^^^^^^^^^^^^ PLR1706
63 | 
64 | {x: y for x in l if a and b or c}
   |
   = help: Convert to if-else expression

ℹ Suggested fix
59 59 | def has_oranges(oranges, apples=None) -> bool:
60 60 |     return apples and False or oranges
61 61 | 
62    |-[x for x in l if a and b or c]
   62 |+[x for x in l if (b if a else c)]
63 63 | 
64 64 | {x: y for x in l if a and b or c}
65 65 | 

and_or_ternary.py:64:21: PLR1706 [*] Consider using if-else expression (`(b if a else c)`)
   |
62 | [x for x in l if a and b or c]
63 | 
64 | {x: y for x in l if a and b or c}
   |                     ^^^^^^^^^^^^ PLR1706
65 | 
66 | {x for x in l if a and b or c}
   |
   = help: Convert to if-else expression

ℹ Suggested fix
61 61 | 
62 62 | [x for x in l if a and b or c]
63 63 | 
64    |-{x: y for x in l if a and b or c}
   64 |+{x: y for x in l if (b if a else c)}
65 65 | 
66 66 | {x for x in l if a and b or c}
67 67 | 

and_or_ternary.py:66:18: PLR1706 [*] Consider using if-else expression (`(b if a else c)`)
   |
64 | {x: y for x in l if a and b or c}
65 | 
66 | {x for x in l if a and b or c}
   |                  ^^^^^^^^^^^^ PLR1706
67 | 
68 | new_list = [
   |
   = help: Convert to if-else expression

ℹ Suggested fix
63 63 | 
64 64 | {x: y for x in l if a and b or c}
65 65 | 
66    |-{x for x in l if a and b or c}
   66 |+{x for x in l if (b if a else c)}
67 67 | 
68 68 | new_list = [
69 69 |     x

and_or_ternary.py:71:8: PLR1706 [*] Consider using if-else expression (`(b if a else c)`)
   |
69 |     x
70 |     for sublist in all_lists
71 |     if a and b or c
   |        ^^^^^^^^^^^^ PLR1706
72 |     for x in sublist
73 |     if (isinstance(operator, list) and x in operator) or x != operator
   |
   = help: Convert to if-else expression

ℹ Suggested fix
68 68 | new_list = [
69 69 |     x
70 70 |     for sublist in all_lists
71    |-    if a and b or c
   71 |+    if (b if a else c)
72 72 |     for x in sublist
73 73 |     if (isinstance(operator, list) and x in operator) or x != operator
74 74 | ]

and_or_ternary.py:73:8: PLR1706 [*] Consider using if-else expression
   |
71 |     if a and b or c
72 |     for x in sublist
73 |     if (isinstance(operator, list) and x in operator) or x != operator
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ PLR1706
74 | ]
   |
   = help: Convert to if-else expression

ℹ Suggested fix
70 70 |     for sublist in all_lists
71 71 |     if a and b or c
72 72 |     for x in sublist
73    |-    if (isinstance(operator, list) and x in operator) or x != operator
   73 |+    if (x in operator if isinstance(operator, list) else x != operator)
74 74 | ]


