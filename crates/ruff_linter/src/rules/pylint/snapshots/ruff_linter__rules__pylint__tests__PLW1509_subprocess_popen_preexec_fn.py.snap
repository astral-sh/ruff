---
source: crates/ruff_linter/src/rules/pylint/mod.rs
---
error[PLW1509]: 9:18: `preexec_fn` argument is unsafe when using threads

  --> subprocess_popen_preexec_fn.py:9:18
   |
 8 | # Errors.
 9 | subprocess.Popen(preexec_fn=foo)
   |                  ^^^^^^^^^^^^^^
10 | subprocess.Popen(["ls"], preexec_fn=foo)
11 | subprocess.Popen(preexec_fn=lambda: print("Hello, world!"))
   |
error[PLW1509]: 10:26: `preexec_fn` argument is unsafe when using threads

  --> subprocess_popen_preexec_fn.py:10:26
   |
 8 | # Errors.
 9 | subprocess.Popen(preexec_fn=foo)
10 | subprocess.Popen(["ls"], preexec_fn=foo)
   |                          ^^^^^^^^^^^^^^
11 | subprocess.Popen(preexec_fn=lambda: print("Hello, world!"))
12 | subprocess.Popen(["ls"], preexec_fn=lambda: print("Hello, world!"))
   |
error[PLW1509]: 11:18: `preexec_fn` argument is unsafe when using threads

  --> subprocess_popen_preexec_fn.py:11:18
   |
 9 | subprocess.Popen(preexec_fn=foo)
10 | subprocess.Popen(["ls"], preexec_fn=foo)
11 | subprocess.Popen(preexec_fn=lambda: print("Hello, world!"))
   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
12 | subprocess.Popen(["ls"], preexec_fn=lambda: print("Hello, world!"))
   |
error[PLW1509]: 12:26: `preexec_fn` argument is unsafe when using threads

  --> subprocess_popen_preexec_fn.py:12:26
   |
10 | subprocess.Popen(["ls"], preexec_fn=foo)
11 | subprocess.Popen(preexec_fn=lambda: print("Hello, world!"))
12 | subprocess.Popen(["ls"], preexec_fn=lambda: print("Hello, world!"))
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
13 | 
14 | # Non-errors.
   |
