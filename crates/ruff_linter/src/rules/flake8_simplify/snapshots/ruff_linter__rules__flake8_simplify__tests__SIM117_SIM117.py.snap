---
source: crates/ruff_linter/src/rules/flake8_simplify/mod.rs
---
SIM117.py:2:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
  |
1 |   # SIM117
2 | / with A() as a:
3 | |     with B() as b:
  | |__________________^ SIM117
4 |           print("hello")
  |
  = help: Combine `with` statements


SIM117.py:7:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
 6 |   # SIM117
 7 | / with A():
 8 | |     with B():
   | |_____________^ SIM117
 9 |           with C():
10 |               print("hello")
   |
   = help: Combine `with` statements


SIM117.py:13:1: SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
12 |   # SIM117
13 | / with A() as a:
14 | |     # Unfixable due to placement of this comment.
15 | |     with B() as b:
   | |__________________^ SIM117
16 |           print("hello")
   |
   = help: Combine `with` statements

SIM117.py:19:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
18 |   # SIM117
19 | / with A() as a:
20 | |     with B() as b:
   | |__________________^ SIM117
21 |           # Fixable due to placement of this comment.
22 |           print("hello")
   |
   = help: Combine `with` statements


SIM117.py:47:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
46 |   # SIM117
47 | / async with A() as a:
48 | |     async with B() as b:
   | |________________________^ SIM117
49 |           print("hello")
   |
   = help: Combine `with` statements


SIM117.py:53:5: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
51 |   while True:
52 |       # SIM117
53 |       with A() as a:
   |  _____^
54 | |         with B() as b:
   | |______________________^ SIM117
55 |               """this
56 |   is valid"""
   |
   = help: Combine `with` statements


SIM117.py:68:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
67 |   # SIM117
68 | / with (
69 | |     A() as a,
70 | |     B() as b,
71 | | ):
72 | |     with C() as c:
   | |__________________^ SIM117
73 |           print("hello")
   |
   = help: Combine `with` statements


SIM117.py:76:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
75 |   # SIM117
76 | / with A() as a:
77 | |     with (
78 | |         B() as b,
79 | |         C() as c,
80 | |     ):
   | |______^ SIM117
81 |           print("hello")
   |
   = help: Combine `with` statements


SIM117.py:84:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
83 |   # SIM117
84 | / with (
85 | |     A() as a,
86 | |     B() as b,
87 | | ):
88 | |     with (
89 | |         C() as c,
90 | |         D() as d,
91 | |     ):
   | |______^ SIM117
92 |           print("hello")
   |
   = help: Combine `with` statements


SIM117.py:95:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
   |
94 |   # SIM117 (auto-fixable)
95 | / with A("01√ü9üí£2‚Ñù8901√ü9üí£2‚Ñù8901√ü9üí£2‚Ñù89") as a:
96 | |     with B("01√ü9üí£2‚Ñù8901√ü9üí£2‚Ñù8901√ü9üí£2‚Ñù89") as b:
   | |__________________________________________________^ SIM117
97 |           print("hello")
   |
   = help: Combine `with` statements


SIM117.py:100:1: SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    |
 99 |   # SIM117 (not auto-fixable too long)
100 | / with A("01√ü9üí£2‚Ñù8901√ü9üí£2‚Ñù8901√ü9üí£2‚Ñù890") as a:
101 | |     with B("01√ü9üí£2‚Ñù8901√ü9üí£2‚Ñù8901√ü9üí£2‚Ñù89") as b:
    | |__________________________________________________^ SIM117
102 |           print("hello")
    |
    = help: Combine `with` statements

SIM117.py:106:5: SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
    |
104 |   # From issue #3025.
105 |   async def main():
106 |       async with A() as a: # SIM117.
    |  _____^
107 | |         async with B() as b:
    | |____________________________^ SIM117
108 |               print("async-inside!")
    |
    = help: Combine `with` statements

SIM117.py:126:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
    |
125 |   # SIM117
126 | / with A() as a:
127 | |     with B() as b:
    | |__________________^ SIM117
128 |           type ListOrSet[T] = list[T] | set[T]
    |
    = help: Combine `with` statements


SIM117.py:163:1: SIM117 [*] Use a single `with` statement with multiple contexts instead of nested `with` statements
    |
162 |   # Do not suppress combination, if a context manager is already combined with another.
163 | / async with asyncio.timeout(1), A():
164 | |     async with B():
    | |___________________^ SIM117
165 |           pass
    |
    = help: Combine `with` statements
