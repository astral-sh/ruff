---
source: crates/ruff_linter/src/rules/pyupgrade/mod.rs
---
UP021 [*] `universal_newlines` is deprecated, use `text`
 --> UP021.py:5:25
  |
4 | # Errors
5 | subprocess.run(["foo"], universal_newlines=True, check=True)
  |                         ^^^^^^^^^^^^^^^^^^
6 | subprocess.run(["foo"], universal_newlines=True, text=True)
7 | run(["foo"], universal_newlines=True, check=False)
  |
help: Replace with `text` keyword argument
2 | from subprocess import run
3 | 
4 | # Errors
  - subprocess.run(["foo"], universal_newlines=True, check=True)
5 + subprocess.run(["foo"], text=True, check=True)
6 | subprocess.run(["foo"], universal_newlines=True, text=True)
7 | run(["foo"], universal_newlines=True, check=False)
8 | 

UP021 [*] `universal_newlines` is deprecated, use `text`
 --> UP021.py:6:25
  |
4 | # Errors
5 | subprocess.run(["foo"], universal_newlines=True, check=True)
6 | subprocess.run(["foo"], universal_newlines=True, text=True)
  |                         ^^^^^^^^^^^^^^^^^^
7 | run(["foo"], universal_newlines=True, check=False)
  |
help: Replace with `text` keyword argument
3 | 
4 | # Errors
5 | subprocess.run(["foo"], universal_newlines=True, check=True)
  - subprocess.run(["foo"], universal_newlines=True, text=True)
6 + subprocess.run(["foo"], text=True)
7 | run(["foo"], universal_newlines=True, check=False)
8 | 
9 | # OK

UP021 [*] `universal_newlines` is deprecated, use `text`
 --> UP021.py:7:14
  |
5 | subprocess.run(["foo"], universal_newlines=True, check=True)
6 | subprocess.run(["foo"], universal_newlines=True, text=True)
7 | run(["foo"], universal_newlines=True, check=False)
  |              ^^^^^^^^^^^^^^^^^^
8 |
9 | # OK
  |
help: Replace with `text` keyword argument
4  | # Errors
5  | subprocess.run(["foo"], universal_newlines=True, check=True)
6  | subprocess.run(["foo"], universal_newlines=True, text=True)
   - run(["foo"], universal_newlines=True, check=False)
7  + run(["foo"], text=True, check=False)
8  | 
9  | # OK
10 | subprocess.run(["foo"], check=True)
