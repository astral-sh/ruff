---
source: crates/ruff_linter/src/rules/perflint/mod.rs
---
PERF401.py:6:13: PERF401 Use a list comprehension to create a transformed list
  |
4 |     for i in items:
5 |         if i % 2:
6 |             result.append(i)  # PERF401
  |             ^^^^^^^^^^^^^^^^ PERF401
  |
  = help: Replace for loop with list comprehension

PERF401.py:13:9: PERF401 Use a list comprehension to create a transformed list
   |
11 |     result = []
12 |     for i in items:
13 |         result.append(i * i)  # PERF401
   |         ^^^^^^^^^^^^^^^^^^^^ PERF401
   |
   = help: Replace for loop with list comprehension

PERF401.py:82:13: PERF401 Use an async list comprehension to create a transformed list
   |
80 |     async for i in items:
81 |         if i % 2:
82 |             result.append(i)  # PERF401
   |             ^^^^^^^^^^^^^^^^ PERF401
   |
   = help: Replace for loop with list comprehension

PERF401.py:89:9: PERF401 Use an async list comprehension to create a transformed list
   |
87 |     result = []
88 |     async for i in items:
89 |         result.append(i)  # PERF401
   |         ^^^^^^^^^^^^^^^^ PERF401
   |
   = help: Replace for loop with list comprehension

PERF401.py:96:9: PERF401 Use `list.extend` with an async comprehension to create a transformed list
   |
94 |     result = [1, 2]
95 |     async for i in items:
96 |         result.append(i)  # PERF401
   |         ^^^^^^^^^^^^^^^^ PERF401
   |
   = help: Replace for loop with list.extend

PERF401.py:102:9: PERF401 Use `list.extend` to create a transformed list
    |
100 |     result, _ = [1, 2, 3, 4], ...
101 |     for i in range(10):
102 |         result.append(i * 2)  # PERF401
    |         ^^^^^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list.extend

PERF401.py:111:17: PERF401 Use `list.extend` to create a transformed list
    |
109 |             # single-line comment 2 should be protected
110 |             if i % 2:  # single-line comment 3 should be protected
111 |                 result.append(i)  # PERF401
    |                 ^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list.extend

PERF401.py:119:13: PERF401 Use a list comprehension to create a transformed list
    |
117 |         # single-line comment 2 should be protected
118 |         if i % 2:  # single-line comment 3 should be protected
119 |             result.append(i)  # PERF401
    |             ^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list comprehension

PERF401.py:135:13: PERF401 Use a list comprehension to create a transformed list
    |
133 |         new_layers = []
134 |         for value in param:
135 |             new_layers.append(value * 3)
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list comprehension

PERF401.py:142:9: PERF401 Use a list comprehension to create a transformed list
    |
140 |     var = 1
141 |     for _ in range(10):
142 |         result.append(var + 1)  # PERF401
    |         ^^^^^^^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list comprehension

PERF401.py:150:9: PERF401 Use a list comprehension to create a transformed list
    |
148 |     result = []  # commment should be protected
149 |     for i in range(10):
150 |         result.append(i + 1)  # PERF401
    |         ^^^^^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list comprehension

PERF401.py:158:9: PERF401 Use a list comprehension to create a transformed list
    |
156 |     tmp = 1  # commment should be protected
157 |     for i in range(10):
158 |         result.append(i + 1)  # PERF401
    |         ^^^^^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list comprehension

PERF401.py:164:9: PERF401 Use a list comprehension to create a transformed list
    |
162 |     result = []  # comment should be protected
163 |     for i in range(10):
164 |         result.append(i * 2)  # PERF401
    |         ^^^^^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list comprehension

PERF401.py:171:9: PERF401 Use `list.extend` to create a transformed list
    |
169 |     result.append(1)
170 |     for i in range(10):
171 |         result.append(i * 2)  # PERF401
    |         ^^^^^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list.extend

PERF401.py:184:9: PERF401 Use a list comprehension to create a transformed list
    |
182 |     result = []
183 |     for val in range(5):
184 |         result.append(val * 2)  # Ok
    |         ^^^^^^^^^^^^^^^^^^^^^^ PERF401
185 |     print(val)
    |
    = help: Replace for loop with list comprehension

PERF401.py:197:13: PERF401 Use a list comprehension to create a transformed list
    |
195 |       ):  # Comment 3
196 |           if i % 2:  # Comment 4
197 |               result.append(
    |  _____________^
198 | |                 (
199 | |                     i + 1,
200 | |                     # Comment 5
201 | |                     2,
202 | |                 )
203 | |             )  # PERF401
    | |_____________^ PERF401
    |
    = help: Replace for loop with list comprehension

PERF401.py:209:9: PERF401 Use a list comprehension to create a transformed list
    |
207 |     result: list[int] = []
208 |     for i in range(10):
209 |         result.append(i * 2)  # PERF401
    |         ^^^^^^^^^^^^^^^^^^^^ PERF401
    |
    = help: Replace for loop with list comprehension

PERF401.py:216:9: PERF401 Use a list comprehension to create a transformed list
    |
214 |     result = []
215 |     for i in a, b:
216 |         result.append(i[0] + i[1])  # PERF401
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ PERF401
217 |     return result
    |
    = help: Replace for loop with list comprehension
