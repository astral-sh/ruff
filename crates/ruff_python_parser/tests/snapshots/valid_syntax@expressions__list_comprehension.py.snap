---
source: crates/ruff_python_parser/tests/fixtures.rs
input_file: crates/ruff_python_parser/resources/valid/expressions/list_comprehension.py
---
## AST

```
Module(
    ModModule {
        range: 0..868,
        body: [
            Assign(
                StmtAssign {
                    range: 0..26,
                    targets: [
                        Name(
                            ExprName {
                                range: 0..1,
                                id: Name("x"),
                                ctx: Store,
                            },
                        ),
                    ],
                    value: ListComp(
                        ExprListComp {
                            range: 4..26,
                            elt: Name(
                                ExprName {
                                    range: 5..6,
                                    id: Name("y"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 7..25,
                                    target: Name(
                                        ExprName {
                                            range: 11..12,
                                            id: Name("y"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Tuple(
                                        ExprTuple {
                                            range: 16..25,
                                            elts: [
                                                NumberLiteral(
                                                    ExprNumberLiteral {
                                                        range: 17..18,
                                                        value: Int(
                                                            1,
                                                        ),
                                                    },
                                                ),
                                                NumberLiteral(
                                                    ExprNumberLiteral {
                                                        range: 20..21,
                                                        value: Int(
                                                            2,
                                                        ),
                                                    },
                                                ),
                                                NumberLiteral(
                                                    ExprNumberLiteral {
                                                        range: 23..24,
                                                        value: Int(
                                                            3,
                                                        ),
                                                    },
                                                ),
                                            ],
                                            ctx: Load,
                                            parenthesized: true,
                                        },
                                    ),
                                    ifs: [],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            Expr(
                StmtExpr {
                    range: 28..49,
                    value: ListComp(
                        ExprListComp {
                            range: 28..49,
                            elt: Name(
                                ExprName {
                                    range: 29..30,
                                    id: Name("x"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 31..48,
                                    target: Name(
                                        ExprName {
                                            range: 35..36,
                                            id: Name("i"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Call(
                                        ExprCall {
                                            range: 40..48,
                                            func: Name(
                                                ExprName {
                                                    range: 40..45,
                                                    id: Name("range"),
                                                    ctx: Load,
                                                },
                                            ),
                                            arguments: Arguments {
                                                range: 45..48,
                                                args: [
                                                    NumberLiteral(
                                                        ExprNumberLiteral {
                                                            range: 46..47,
                                                            value: Int(
                                                                5,
                                                            ),
                                                        },
                                                    ),
                                                ],
                                                keywords: [],
                                            },
                                        },
                                    ),
                                    ifs: [],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            Expr(
                StmtExpr {
                    range: 50..91,
                    value: ListComp(
                        ExprListComp {
                            range: 50..91,
                            elt: Name(
                                ExprName {
                                    range: 51..52,
                                    id: Name("b"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 53..90,
                                    target: Name(
                                        ExprName {
                                            range: 57..58,
                                            id: Name("c"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Name(
                                        ExprName {
                                            range: 62..63,
                                            id: Name("d"),
                                            ctx: Load,
                                        },
                                    ),
                                    ifs: [
                                        Compare(
                                            ExprCompare {
                                                range: 67..73,
                                                left: Name(
                                                    ExprName {
                                                        range: 67..68,
                                                        id: Name("x"),
                                                        ctx: Load,
                                                    },
                                                ),
                                                ops: [
                                                    In,
                                                ],
                                                comparators: [
                                                    Name(
                                                        ExprName {
                                                            range: 72..73,
                                                            id: Name("w"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                        BoolOp(
                                            ExprBoolOp {
                                                range: 77..85,
                                                op: And,
                                                values: [
                                                    Name(
                                                        ExprName {
                                                            range: 77..78,
                                                            id: Name("y"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                    Name(
                                                        ExprName {
                                                            range: 83..85,
                                                            id: Name("yy"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                        Name(
                                            ExprName {
                                                range: 89..90,
                                                id: Name("z"),
                                                ctx: Load,
                                            },
                                        ),
                                    ],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            Expr(
                StmtExpr {
                    range: 92..137,
                    value: ListComp(
                        ExprListComp {
                            range: 92..137,
                            elt: Name(
                                ExprName {
                                    range: 93..94,
                                    id: Name("a"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 95..116,
                                    target: Name(
                                        ExprName {
                                            range: 99..100,
                                            id: Name("b"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Name(
                                        ExprName {
                                            range: 104..105,
                                            id: Name("c"),
                                            ctx: Load,
                                        },
                                    ),
                                    ifs: [
                                        BoolOp(
                                            ExprBoolOp {
                                                range: 109..116,
                                                op: And,
                                                values: [
                                                    Name(
                                                        ExprName {
                                                            range: 109..110,
                                                            id: Name("d"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                    Name(
                                                        ExprName {
                                                            range: 115..116,
                                                            id: Name("e"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                    ],
                                    is_async: false,
                                },
                                Comprehension {
                                    range: 117..136,
                                    target: Name(
                                        ExprName {
                                            range: 121..122,
                                            id: Name("f"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Name(
                                        ExprName {
                                            range: 126..127,
                                            id: Name("j"),
                                            ctx: Load,
                                        },
                                    ),
                                    ifs: [
                                        Compare(
                                            ExprCompare {
                                                range: 131..136,
                                                left: Name(
                                                    ExprName {
                                                        range: 131..132,
                                                        id: Name("k"),
                                                        ctx: Load,
                                                    },
                                                ),
                                                ops: [
                                                    Gt,
                                                ],
                                                comparators: [
                                                    Name(
                                                        ExprName {
                                                            range: 135..136,
                                                            id: Name("h"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                    ],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            Expr(
                StmtExpr {
                    range: 138..189,
                    value: ListComp(
                        ExprListComp {
                            range: 138..189,
                            elt: Name(
                                ExprName {
                                    range: 139..140,
                                    id: Name("a"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 141..162,
                                    target: Name(
                                        ExprName {
                                            range: 145..146,
                                            id: Name("b"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Name(
                                        ExprName {
                                            range: 150..151,
                                            id: Name("c"),
                                            ctx: Load,
                                        },
                                    ),
                                    ifs: [
                                        BoolOp(
                                            ExprBoolOp {
                                                range: 155..162,
                                                op: And,
                                                values: [
                                                    Name(
                                                        ExprName {
                                                            range: 155..156,
                                                            id: Name("d"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                    Name(
                                                        ExprName {
                                                            range: 161..162,
                                                            id: Name("e"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                    ],
                                    is_async: false,
                                },
                                Comprehension {
                                    range: 163..188,
                                    target: Name(
                                        ExprName {
                                            range: 173..174,
                                            id: Name("f"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Name(
                                        ExprName {
                                            range: 178..179,
                                            id: Name("j"),
                                            ctx: Load,
                                        },
                                    ),
                                    ifs: [
                                        Compare(
                                            ExprCompare {
                                                range: 183..188,
                                                left: Name(
                                                    ExprName {
                                                        range: 183..184,
                                                        id: Name("k"),
                                                        ctx: Load,
                                                    },
                                                ),
                                                ops: [
                                                    Gt,
                                                ],
                                                comparators: [
                                                    Name(
                                                        ExprName {
                                                            range: 187..188,
                                                            id: Name("h"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                    ],
                                    is_async: true,
                                },
                            ],
                        },
                    ),
                },
            ),
            Expr(
                StmtExpr {
                    range: 190..209,
                    value: ListComp(
                        ExprListComp {
                            range: 190..209,
                            elt: NumberLiteral(
                                ExprNumberLiteral {
                                    range: 191..192,
                                    value: Int(
                                        1,
                                    ),
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 193..208,
                                    target: Name(
                                        ExprName {
                                            range: 197..198,
                                            id: Name("i"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Compare(
                                        ExprCompare {
                                            range: 202..208,
                                            left: Name(
                                                ExprName {
                                                    range: 202..203,
                                                    id: Name("x"),
                                                    ctx: Load,
                                                },
                                            ),
                                            ops: [
                                                In,
                                            ],
                                            comparators: [
                                                Name(
                                                    ExprName {
                                                        range: 207..208,
                                                        id: Name("a"),
                                                        ctx: Load,
                                                    },
                                                ),
                                            ],
                                        },
                                    ),
                                    ifs: [],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            Expr(
                StmtExpr {
                    range: 210..227,
                    value: ListComp(
                        ExprListComp {
                            range: 210..227,
                            elt: Name(
                                ExprName {
                                    range: 211..212,
                                    id: Name("a"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 213..226,
                                    target: Tuple(
                                        ExprTuple {
                                            range: 217..221,
                                            elts: [
                                                Name(
                                                    ExprName {
                                                        range: 217..218,
                                                        id: Name("a"),
                                                        ctx: Store,
                                                    },
                                                ),
                                                Name(
                                                    ExprName {
                                                        range: 220..221,
                                                        id: Name("b"),
                                                        ctx: Store,
                                                    },
                                                ),
                                            ],
                                            ctx: Store,
                                            parenthesized: false,
                                        },
                                    ),
                                    iter: Name(
                                        ExprName {
                                            range: 225..226,
                                            id: Name("G"),
                                            ctx: Load,
                                        },
                                    ),
                                    ifs: [],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            FunctionDef(
                StmtFunctionDef {
                    range: 228..329,
                    is_async: false,
                    decorator_list: [],
                    name: Identifier {
                        id: Name("outer"),
                        range: 232..237,
                    },
                    type_params: None,
                    parameters: Parameters {
                        range: 237..239,
                        posonlyargs: [],
                        args: [],
                        vararg: None,
                        kwonlyargs: [],
                        kwarg: None,
                    },
                    returns: None,
                    body: [
                        Expr(
                            StmtExpr {
                                range: 245..282,
                                value: ListComp(
                                    ExprListComp {
                                        range: 245..282,
                                        elt: Await(
                                            ExprAwait {
                                                range: 255..262,
                                                value: Name(
                                                    ExprName {
                                                        range: 261..262,
                                                        id: Name("x"),
                                                        ctx: Load,
                                                    },
                                                ),
                                            },
                                        ),
                                        generators: [
                                            Comprehension {
                                                range: 263..276,
                                                target: Tuple(
                                                    ExprTuple {
                                                        range: 267..271,
                                                        elts: [
                                                            Name(
                                                                ExprName {
                                                                    range: 267..268,
                                                                    id: Name("a"),
                                                                    ctx: Store,
                                                                },
                                                            ),
                                                            Name(
                                                                ExprName {
                                                                    range: 270..271,
                                                                    id: Name("b"),
                                                                    ctx: Store,
                                                                },
                                                            ),
                                                        ],
                                                        ctx: Store,
                                                        parenthesized: false,
                                                    },
                                                ),
                                                iter: Name(
                                                    ExprName {
                                                        range: 275..276,
                                                        id: Name("C"),
                                                        ctx: Load,
                                                    },
                                                ),
                                                ifs: [],
                                                is_async: false,
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                        Expr(
                            StmtExpr {
                                range: 287..329,
                                value: ListComp(
                                    ExprListComp {
                                        range: 287..329,
                                        elt: Name(
                                            ExprName {
                                                range: 288..289,
                                                id: Name("i"),
                                                ctx: Load,
                                            },
                                        ),
                                        generators: [
                                            Comprehension {
                                                range: 290..328,
                                                target: Name(
                                                    ExprName {
                                                        range: 294..295,
                                                        id: Name("i"),
                                                        ctx: Store,
                                                    },
                                                ),
                                                iter: Await(
                                                    ExprAwait {
                                                        range: 299..306,
                                                        value: Name(
                                                            ExprName {
                                                                range: 305..306,
                                                                id: Name("x"),
                                                                ctx: Load,
                                                            },
                                                        ),
                                                    },
                                                ),
                                                ifs: [
                                                    Compare(
                                                        ExprCompare {
                                                            range: 310..328,
                                                            left: Name(
                                                                ExprName {
                                                                    range: 310..316,
                                                                    id: Name("entity"),
                                                                    ctx: Load,
                                                                },
                                                            ),
                                                            ops: [
                                                                IsNot,
                                                            ],
                                                            comparators: [
                                                                NoneLiteral(
                                                                    ExprNoneLiteral {
                                                                        range: 324..328,
                                                                    },
                                                                ),
                                                            ],
                                                        },
                                                    ),
                                                ],
                                                is_async: false,
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                    ],
                },
            ),
            Expr(
                StmtExpr {
                    range: 330..366,
                    value: ListComp(
                        ExprListComp {
                            range: 330..366,
                            elt: Name(
                                ExprName {
                                    range: 331..332,
                                    id: Name("x"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 333..365,
                                    target: Name(
                                        ExprName {
                                            range: 337..338,
                                            id: Name("x"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: If(
                                        ExprIf {
                                            range: 343..359,
                                            test: BooleanLiteral(
                                                ExprBooleanLiteral {
                                                    range: 348..352,
                                                    value: true,
                                                },
                                            ),
                                            body: Name(
                                                ExprName {
                                                    range: 343..344,
                                                    id: Name("l"),
                                                    ctx: Load,
                                                },
                                            ),
                                            orelse: Name(
                                                ExprName {
                                                    range: 358..359,
                                                    id: Name("L"),
                                                    ctx: Load,
                                                },
                                            ),
                                        },
                                    ),
                                    ifs: [
                                        Name(
                                            ExprName {
                                                range: 364..365,
                                                id: Name("T"),
                                                ctx: Load,
                                            },
                                        ),
                                    ],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            FunctionDef(
                StmtFunctionDef {
                    range: 367..473,
                    is_async: false,
                    decorator_list: [],
                    name: Identifier {
                        id: Name("outer"),
                        range: 371..376,
                    },
                    type_params: None,
                    parameters: Parameters {
                        range: 376..378,
                        posonlyargs: [],
                        args: [],
                        vararg: None,
                        kwonlyargs: [],
                        kwarg: None,
                    },
                    returns: None,
                    body: [
                        Expr(
                            StmtExpr {
                                range: 384..426,
                                value: ListComp(
                                    ExprListComp {
                                        range: 384..426,
                                        elt: Name(
                                            ExprName {
                                                range: 385..386,
                                                id: Name("i"),
                                                ctx: Load,
                                            },
                                        ),
                                        generators: [
                                            Comprehension {
                                                range: 387..425,
                                                target: Name(
                                                    ExprName {
                                                        range: 391..392,
                                                        id: Name("i"),
                                                        ctx: Store,
                                                    },
                                                ),
                                                iter: If(
                                                    ExprIf {
                                                        range: 397..419,
                                                        test: BooleanLiteral(
                                                            ExprBooleanLiteral {
                                                                range: 408..412,
                                                                value: true,
                                                            },
                                                        ),
                                                        body: Await(
                                                            ExprAwait {
                                                                range: 397..404,
                                                                value: Name(
                                                                    ExprName {
                                                                        range: 403..404,
                                                                        id: Name("x"),
                                                                        ctx: Load,
                                                                    },
                                                                ),
                                                            },
                                                        ),
                                                        orelse: Name(
                                                            ExprName {
                                                                range: 418..419,
                                                                id: Name("X"),
                                                                ctx: Load,
                                                            },
                                                        ),
                                                    },
                                                ),
                                                ifs: [
                                                    Name(
                                                        ExprName {
                                                            range: 424..425,
                                                            id: Name("F"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                ],
                                                is_async: false,
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                        Expr(
                            StmtExpr {
                                range: 431..473,
                                value: ListComp(
                                    ExprListComp {
                                        range: 431..473,
                                        elt: Name(
                                            ExprName {
                                                range: 432..433,
                                                id: Name("i"),
                                                ctx: Load,
                                            },
                                        ),
                                        generators: [
                                            Comprehension {
                                                range: 434..472,
                                                target: Name(
                                                    ExprName {
                                                        range: 438..439,
                                                        id: Name("i"),
                                                        ctx: Store,
                                                    },
                                                ),
                                                iter: Await(
                                                    ExprAwait {
                                                        range: 443..467,
                                                        value: If(
                                                            ExprIf {
                                                                range: 450..466,
                                                                test: BooleanLiteral(
                                                                    ExprBooleanLiteral {
                                                                        range: 455..459,
                                                                        value: true,
                                                                    },
                                                                ),
                                                                body: Name(
                                                                    ExprName {
                                                                        range: 450..451,
                                                                        id: Name("x"),
                                                                        ctx: Load,
                                                                    },
                                                                ),
                                                                orelse: Name(
                                                                    ExprName {
                                                                        range: 465..466,
                                                                        id: Name("X"),
                                                                        ctx: Load,
                                                                    },
                                                                ),
                                                            },
                                                        ),
                                                    },
                                                ),
                                                ifs: [
                                                    Name(
                                                        ExprName {
                                                            range: 471..472,
                                                            id: Name("F"),
                                                            ctx: Load,
                                                        },
                                                    ),
                                                ],
                                                is_async: false,
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                    ],
                },
            ),
            Expr(
                StmtExpr {
                    range: 474..507,
                    value: ListComp(
                        ExprListComp {
                            range: 474..507,
                            elt: Name(
                                ExprName {
                                    range: 475..476,
                                    id: Name("f"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 477..506,
                                    target: Name(
                                        ExprName {
                                            range: 481..482,
                                            id: Name("f"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Call(
                                        ExprCall {
                                            range: 486..506,
                                            func: Name(
                                                ExprName {
                                                    range: 486..487,
                                                    id: Name("c"),
                                                    ctx: Load,
                                                },
                                            ),
                                            arguments: Arguments {
                                                range: 487..506,
                                                args: [
                                                    If(
                                                        ExprIf {
                                                            range: 488..505,
                                                            test: BooleanLiteral(
                                                                ExprBooleanLiteral {
                                                                    range: 493..497,
                                                                    value: true,
                                                                },
                                                            ),
                                                            body: Name(
                                                                ExprName {
                                                                    range: 488..489,
                                                                    id: Name("x"),
                                                                    ctx: Load,
                                                                },
                                                            ),
                                                            orelse: List(
                                                                ExprList {
                                                                    range: 503..505,
                                                                    elts: [],
                                                                    ctx: Load,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                ],
                                                keywords: [],
                                            },
                                        },
                                    ),
                                    ifs: [],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            FunctionDef(
                StmtFunctionDef {
                    range: 646..717,
                    is_async: false,
                    decorator_list: [],
                    name: Identifier {
                        id: Name("outer"),
                        range: 650..655,
                    },
                    type_params: None,
                    parameters: Parameters {
                        range: 655..657,
                        posonlyargs: [],
                        args: [],
                        vararg: None,
                        kwonlyargs: [],
                        kwarg: None,
                    },
                    returns: None,
                    body: [
                        Expr(
                            StmtExpr {
                                range: 663..685,
                                value: ListComp(
                                    ExprListComp {
                                        range: 663..685,
                                        elt: Name(
                                            ExprName {
                                                range: 664..665,
                                                id: Name("x"),
                                                ctx: Load,
                                            },
                                        ),
                                        generators: [
                                            Comprehension {
                                                range: 666..684,
                                                target: Name(
                                                    ExprName {
                                                        range: 670..671,
                                                        id: Name("x"),
                                                        ctx: Store,
                                                    },
                                                ),
                                                iter: Yield(
                                                    ExprYield {
                                                        range: 676..683,
                                                        value: Some(
                                                            Name(
                                                                ExprName {
                                                                    range: 682..683,
                                                                    id: Name("y"),
                                                                    ctx: Load,
                                                                },
                                                            ),
                                                        ),
                                                    },
                                                ),
                                                ifs: [],
                                                is_async: false,
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                        Expr(
                            StmtExpr {
                                range: 690..717,
                                value: ListComp(
                                    ExprListComp {
                                        range: 690..717,
                                        elt: Name(
                                            ExprName {
                                                range: 691..692,
                                                id: Name("x"),
                                                ctx: Load,
                                            },
                                        ),
                                        generators: [
                                            Comprehension {
                                                range: 693..716,
                                                target: Name(
                                                    ExprName {
                                                        range: 697..698,
                                                        id: Name("x"),
                                                        ctx: Store,
                                                    },
                                                ),
                                                iter: YieldFrom(
                                                    ExprYieldFrom {
                                                        range: 703..715,
                                                        value: Name(
                                                            ExprName {
                                                                range: 714..715,
                                                                id: Name("y"),
                                                                ctx: Load,
                                                            },
                                                        ),
                                                    },
                                                ),
                                                ifs: [],
                                                is_async: false,
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                    ],
                },
            ),
            Expr(
                StmtExpr {
                    range: 718..744,
                    value: ListComp(
                        ExprListComp {
                            range: 718..744,
                            elt: Name(
                                ExprName {
                                    range: 719..720,
                                    id: Name("x"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 721..743,
                                    target: Name(
                                        ExprName {
                                            range: 725..726,
                                            id: Name("x"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Lambda(
                                        ExprLambda {
                                            range: 731..742,
                                            parameters: Some(
                                                Parameters {
                                                    range: 738..739,
                                                    posonlyargs: [],
                                                    args: [
                                                        ParameterWithDefault {
                                                            range: 738..739,
                                                            parameter: Parameter {
                                                                range: 738..739,
                                                                name: Identifier {
                                                                    id: Name("y"),
                                                                    range: 738..739,
                                                                },
                                                                annotation: None,
                                                            },
                                                            default: None,
                                                        },
                                                    ],
                                                    vararg: None,
                                                    kwonlyargs: [],
                                                    kwarg: None,
                                                },
                                            ),
                                            body: Name(
                                                ExprName {
                                                    range: 741..742,
                                                    id: Name("y"),
                                                    ctx: Load,
                                                },
                                            ),
                                        },
                                    ),
                                    ifs: [],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            FunctionDef(
                StmtFunctionDef {
                    range: 745..832,
                    is_async: false,
                    decorator_list: [],
                    name: Identifier {
                        id: Name("outer"),
                        range: 749..754,
                    },
                    type_params: None,
                    parameters: Parameters {
                        range: 754..756,
                        posonlyargs: [],
                        args: [],
                        vararg: None,
                        kwonlyargs: [],
                        kwarg: None,
                    },
                    returns: None,
                    body: [
                        Expr(
                            StmtExpr {
                                range: 762..792,
                                value: ListComp(
                                    ExprListComp {
                                        range: 762..792,
                                        elt: Name(
                                            ExprName {
                                                range: 763..764,
                                                id: Name("x"),
                                                ctx: Load,
                                            },
                                        ),
                                        generators: [
                                            Comprehension {
                                                range: 765..791,
                                                target: Name(
                                                    ExprName {
                                                        range: 769..770,
                                                        id: Name("x"),
                                                        ctx: Store,
                                                    },
                                                ),
                                                iter: Name(
                                                    ExprName {
                                                        range: 774..778,
                                                        id: Name("data"),
                                                        ctx: Load,
                                                    },
                                                ),
                                                ifs: [
                                                    Yield(
                                                        ExprYield {
                                                            range: 783..790,
                                                            value: Some(
                                                                Name(
                                                                    ExprName {
                                                                        range: 789..790,
                                                                        id: Name("y"),
                                                                        ctx: Load,
                                                                    },
                                                                ),
                                                            ),
                                                        },
                                                    ),
                                                ],
                                                is_async: false,
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                        Expr(
                            StmtExpr {
                                range: 797..832,
                                value: ListComp(
                                    ExprListComp {
                                        range: 797..832,
                                        elt: Name(
                                            ExprName {
                                                range: 798..799,
                                                id: Name("x"),
                                                ctx: Load,
                                            },
                                        ),
                                        generators: [
                                            Comprehension {
                                                range: 800..831,
                                                target: Name(
                                                    ExprName {
                                                        range: 804..805,
                                                        id: Name("x"),
                                                        ctx: Store,
                                                    },
                                                ),
                                                iter: Name(
                                                    ExprName {
                                                        range: 809..813,
                                                        id: Name("data"),
                                                        ctx: Load,
                                                    },
                                                ),
                                                ifs: [
                                                    YieldFrom(
                                                        ExprYieldFrom {
                                                            range: 818..830,
                                                            value: Name(
                                                                ExprName {
                                                                    range: 829..830,
                                                                    id: Name("y"),
                                                                    ctx: Load,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                ],
                                                is_async: false,
                                            },
                                        ],
                                    },
                                ),
                            },
                        ),
                    ],
                },
            ),
            Expr(
                StmtExpr {
                    range: 833..867,
                    value: ListComp(
                        ExprListComp {
                            range: 833..867,
                            elt: Name(
                                ExprName {
                                    range: 834..835,
                                    id: Name("x"),
                                    ctx: Load,
                                },
                            ),
                            generators: [
                                Comprehension {
                                    range: 836..866,
                                    target: Name(
                                        ExprName {
                                            range: 840..841,
                                            id: Name("x"),
                                            ctx: Store,
                                        },
                                    ),
                                    iter: Name(
                                        ExprName {
                                            range: 845..849,
                                            id: Name("data"),
                                            ctx: Load,
                                        },
                                    ),
                                    ifs: [
                                        Lambda(
                                            ExprLambda {
                                                range: 854..865,
                                                parameters: Some(
                                                    Parameters {
                                                        range: 861..862,
                                                        posonlyargs: [],
                                                        args: [
                                                            ParameterWithDefault {
                                                                range: 861..862,
                                                                parameter: Parameter {
                                                                    range: 861..862,
                                                                    name: Identifier {
                                                                        id: Name("y"),
                                                                        range: 861..862,
                                                                    },
                                                                    annotation: None,
                                                                },
                                                                default: None,
                                                            },
                                                        ],
                                                        vararg: None,
                                                        kwonlyargs: [],
                                                        kwarg: None,
                                                    },
                                                ),
                                                body: Name(
                                                    ExprName {
                                                        range: 864..865,
                                                        id: Name("y"),
                                                        ctx: Load,
                                                    },
                                                ),
                                            },
                                        ),
                                    ],
                                    is_async: false,
                                },
                            ],
                        },
                    ),
                },
            ),
        ],
    },
)
```
