---
source: crates/ruff_python_parser/tests/fixtures.rs
input_file: crates/ruff_python_parser/resources/invalid/statements/match/invalid_class_pattern.py
---
## AST

```
Module(
    ModModule {
        node_index: AtomicNodeIndex(..),
        range: 0..383,
        body: [
            Match(
                StmtMatch {
                    node_index: AtomicNodeIndex(..),
                    range: 44..285,
                    subject: Name(
                        ExprName {
                            node_index: AtomicNodeIndex(..),
                            range: 50..57,
                            id: Name("subject"),
                            ctx: Load,
                        },
                    ),
                    cases: [
                        MatchCase {
                            range: 63..97,
                            node_index: AtomicNodeIndex(..),
                            pattern: MatchClass(
                                PatternMatchClass {
                                    range: 68..83,
                                    node_index: AtomicNodeIndex(..),
                                    cls: Name(
                                        ExprName {
                                            node_index: AtomicNodeIndex(..),
                                            range: 68..71,
                                            id: Name("Foo"),
                                            ctx: Load,
                                        },
                                    ),
                                    arguments: PatternArguments {
                                        range: 71..83,
                                        node_index: AtomicNodeIndex(..),
                                        patterns: [],
                                        keywords: [
                                            PatternKeyword {
                                                range: 72..82,
                                                node_index: AtomicNodeIndex(..),
                                                attr: Identifier {
                                                    id: Name(""),
                                                    range: 80..80,
                                                    node_index: AtomicNodeIndex(..),
                                                },
                                                pattern: MatchValue(
                                                    PatternMatchValue {
                                                        range: 81..82,
                                                        node_index: AtomicNodeIndex(..),
                                                        value: NumberLiteral(
                                                            ExprNumberLiteral {
                                                                node_index: AtomicNodeIndex(..),
                                                                range: 81..82,
                                                                value: Int(
                                                                    1,
                                                                ),
                                                            },
                                                        ),
                                                    },
                                                ),
                                            },
                                        ],
                                    },
                                },
                            ),
                            guard: None,
                            body: [
                                Pass(
                                    StmtPass {
                                        node_index: AtomicNodeIndex(..),
                                        range: 93..97,
                                    },
                                ),
                            ],
                        },
                        MatchCase {
                            range: 102..135,
                            node_index: AtomicNodeIndex(..),
                            pattern: MatchClass(
                                PatternMatchClass {
                                    range: 107..121,
                                    node_index: AtomicNodeIndex(..),
                                    cls: Name(
                                        ExprName {
                                            node_index: AtomicNodeIndex(..),
                                            range: 107..110,
                                            id: Name("Foo"),
                                            ctx: Load,
                                        },
                                    ),
                                    arguments: PatternArguments {
                                        range: 110..121,
                                        node_index: AtomicNodeIndex(..),
                                        patterns: [],
                                        keywords: [
                                            PatternKeyword {
                                                range: 111..120,
                                                node_index: AtomicNodeIndex(..),
                                                attr: Identifier {
                                                    id: Name(""),
                                                    range: 118..118,
                                                    node_index: AtomicNodeIndex(..),
                                                },
                                                pattern: MatchValue(
                                                    PatternMatchValue {
                                                        range: 119..120,
                                                        node_index: AtomicNodeIndex(..),
                                                        value: NumberLiteral(
                                                            ExprNumberLiteral {
                                                                node_index: AtomicNodeIndex(..),
                                                                range: 119..120,
                                                                value: Int(
                                                                    1,
                                                                ),
                                                            },
                                                        ),
                                                    },
                                                ),
                                            },
                                        ],
                                    },
                                },
                            ),
                            guard: None,
                            body: [
                                Pass(
                                    StmtPass {
                                        node_index: AtomicNodeIndex(..),
                                        range: 131..135,
                                    },
                                ),
                            ],
                        },
                        MatchCase {
                            range: 140..174,
                            node_index: AtomicNodeIndex(..),
                            pattern: MatchClass(
                                PatternMatchClass {
                                    range: 145..160,
                                    node_index: AtomicNodeIndex(..),
                                    cls: Name(
                                        ExprName {
                                            node_index: AtomicNodeIndex(..),
                                            range: 145..148,
                                            id: Name("Foo"),
                                            ctx: Load,
                                        },
                                    ),
                                    arguments: PatternArguments {
                                        range: 148..160,
                                        node_index: AtomicNodeIndex(..),
                                        patterns: [],
                                        keywords: [
                                            PatternKeyword {
                                                range: 149..159,
                                                node_index: AtomicNodeIndex(..),
                                                attr: Identifier {
                                                    id: Name(""),
                                                    range: 157..157,
                                                    node_index: AtomicNodeIndex(..),
                                                },
                                                pattern: MatchValue(
                                                    PatternMatchValue {
                                                        range: 158..159,
                                                        node_index: AtomicNodeIndex(..),
                                                        value: NumberLiteral(
                                                            ExprNumberLiteral {
                                                                node_index: AtomicNodeIndex(..),
                                                                range: 158..159,
                                                                value: Int(
                                                                    1,
                                                                ),
                                                            },
                                                        ),
                                                    },
                                                ),
                                            },
                                        ],
                                    },
                                },
                            ),
                            guard: None,
                            body: [
                                Pass(
                                    StmtPass {
                                        node_index: AtomicNodeIndex(..),
                                        range: 170..174,
                                    },
                                ),
                            ],
                        },
                        MatchCase {
                            range: 179..217,
                            node_index: AtomicNodeIndex(..),
                            pattern: MatchClass(
                                PatternMatchClass {
                                    range: 184..203,
                                    node_index: AtomicNodeIndex(..),
                                    cls: Name(
                                        ExprName {
                                            node_index: AtomicNodeIndex(..),
                                            range: 184..187,
                                            id: Name("Foo"),
                                            ctx: Load,
                                        },
                                    ),
                                    arguments: PatternArguments {
                                        range: 187..203,
                                        node_index: AtomicNodeIndex(..),
                                        patterns: [],
                                        keywords: [
                                            PatternKeyword {
                                                range: 188..202,
                                                node_index: AtomicNodeIndex(..),
                                                attr: Identifier {
                                                    id: Name(""),
                                                    range: 200..200,
                                                    node_index: AtomicNodeIndex(..),
                                                },
                                                pattern: MatchValue(
                                                    PatternMatchValue {
                                                        range: 201..202,
                                                        node_index: AtomicNodeIndex(..),
                                                        value: NumberLiteral(
                                                            ExprNumberLiteral {
                                                                node_index: AtomicNodeIndex(..),
                                                                range: 201..202,
                                                                value: Int(
                                                                    1,
                                                                ),
                                                            },
                                                        ),
                                                    },
                                                ),
                                            },
                                        ],
                                    },
                                },
                            ),
                            guard: None,
                            body: [
                                Pass(
                                    StmtPass {
                                        node_index: AtomicNodeIndex(..),
                                        range: 213..217,
                                    },
                                ),
                            ],
                        },
                        MatchCase {
                            range: 222..249,
                            node_index: AtomicNodeIndex(..),
                            pattern: MatchClass(
                                PatternMatchClass {
                                    range: 227..235,
                                    node_index: AtomicNodeIndex(..),
                                    cls: Name(
                                        ExprName {
                                            node_index: AtomicNodeIndex(..),
                                            range: 227..230,
                                            id: Name("Foo"),
                                            ctx: Load,
                                        },
                                    ),
                                    arguments: PatternArguments {
                                        range: 230..235,
                                        node_index: AtomicNodeIndex(..),
                                        patterns: [],
                                        keywords: [
                                            PatternKeyword {
                                                range: 231..234,
                                                node_index: AtomicNodeIndex(..),
                                                attr: Identifier {
                                                    id: Name(""),
                                                    range: 233..233,
                                                    node_index: AtomicNodeIndex(..),
                                                },
                                                pattern: MatchValue(
                                                    PatternMatchValue {
                                                        range: 233..234,
                                                        node_index: AtomicNodeIndex(..),
                                                        value: NumberLiteral(
                                                            ExprNumberLiteral {
                                                                node_index: AtomicNodeIndex(..),
                                                                range: 233..234,
                                                                value: Int(
                                                                    1,
                                                                ),
                                                            },
                                                        ),
                                                    },
                                                ),
                                            },
                                        ],
                                    },
                                },
                            ),
                            guard: None,
                            body: [
                                Pass(
                                    StmtPass {
                                        node_index: AtomicNodeIndex(..),
                                        range: 245..249,
                                    },
                                ),
                            ],
                        },
                        MatchCase {
                            range: 254..285,
                            node_index: AtomicNodeIndex(..),
                            pattern: MatchClass(
                                PatternMatchClass {
                                    range: 259..271,
                                    node_index: AtomicNodeIndex(..),
                                    cls: Name(
                                        ExprName {
                                            node_index: AtomicNodeIndex(..),
                                            range: 259..262,
                                            id: Name("Foo"),
                                            ctx: Load,
                                        },
                                    ),
                                    arguments: PatternArguments {
                                        range: 262..271,
                                        node_index: AtomicNodeIndex(..),
                                        patterns: [],
                                        keywords: [
                                            PatternKeyword {
                                                range: 263..270,
                                                node_index: AtomicNodeIndex(..),
                                                attr: Identifier {
                                                    id: Name(""),
                                                    range: 269..269,
                                                    node_index: AtomicNodeIndex(..),
                                                },
                                                pattern: MatchValue(
                                                    PatternMatchValue {
                                                        range: 269..270,
                                                        node_index: AtomicNodeIndex(..),
                                                        value: NumberLiteral(
                                                            ExprNumberLiteral {
                                                                node_index: AtomicNodeIndex(..),
                                                                range: 269..270,
                                                                value: Int(
                                                                    1,
                                                                ),
                                                            },
                                                        ),
                                                    },
                                                ),
                                            },
                                        ],
                                    },
                                },
                            ),
                            guard: None,
                            body: [
                                Pass(
                                    StmtPass {
                                        node_index: AtomicNodeIndex(..),
                                        range: 281..285,
                                    },
                                ),
                            ],
                        },
                    ],
                },
            ),
        ],
    },
)
```
## Errors

  |
1 | # Invalid keyword pattern in class argument
2 | match subject:
3 |     case Foo(x as y = 1):
  |              ^^^^^^ Syntax Error: Expected an identifier for the keyword pattern
4 |         pass
5 |     case Foo(x | y = 1):
  |


  |
3 |     case Foo(x as y = 1):
4 |         pass
5 |     case Foo(x | y = 1):
  |              ^^^^^ Syntax Error: Expected an identifier for the keyword pattern
6 |         pass
7 |     case Foo([x, y] = 1):
  |


  |
5 |     case Foo(x | y = 1):
6 |         pass
7 |     case Foo([x, y] = 1):
  |              ^^^^^^ Syntax Error: Expected an identifier for the keyword pattern
8 |         pass
9 |     case Foo({False: 0} = 1):
  |


   |
 7 |     case Foo([x, y] = 1):
 8 |         pass
 9 |     case Foo({False: 0} = 1):
   |              ^^^^^^^^^^ Syntax Error: Expected an identifier for the keyword pattern
10 |         pass
11 |     case Foo(1=1):
   |


   |
 9 |     case Foo({False: 0} = 1):
10 |         pass
11 |     case Foo(1=1):
   |              ^ Syntax Error: Expected an identifier for the keyword pattern
12 |         pass
13 |     case Foo(Bar()=1):
   |


   |
11 |     case Foo(1=1):
12 |         pass
13 |     case Foo(Bar()=1):
   |              ^^^^^ Syntax Error: Expected an identifier for the keyword pattern
14 |         pass
15 |     # Positional pattern cannot follow keyword pattern
   |
